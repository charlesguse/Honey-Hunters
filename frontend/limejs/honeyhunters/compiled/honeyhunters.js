var h=void 0,k=!0,l=null,n=!1;function aa(a){return function(){return this[a]}}var r,ba=ba||{},s=this;function ca(a){for(var a=a.split("."),b=s,c;c=a.shift();)if(b[c]!=l)b=b[c];else return l;return b}function da(){}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return a!==h}function u(a){return"array"==ea(a)}function fa(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function v(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function w(a){return"function"==ea(a)}function ha(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function z(a,b,c){z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return z.apply(l,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var oa=Date.now||function(){return+new Date};function A(a,b){function c(){}c.prototype=b.prototype;a.Ka=b.prototype;a.prototype=new c};var pa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function qa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,sa=/[&<>\"]/;var B=Array.prototype,xa=B.indexOf?function(a,b,c){return B.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(v(a))return!v(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ya=B.forEach?function(a,b,c){B.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=v(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},za=B.filter?function(a,b,c){return B.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=v(a)?
a.split(""):a,j=0;j<d;j++)if(j in g){var m=g[j];b.call(c,m,j,a)&&(e[f++]=m)}return e},Aa=B.map?function(a,b,c){return B.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=v(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function Ba(a,b){0<=xa(a,b)||a.push(b)}function Ca(a,b){var c=xa(a,b);0<=c&&B.splice.call(a,c,1)}function Da(a){return B.concat.apply(B,arguments)}function Ea(a){if(u(a))return Da(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}
function Fa(a){return u(a)?Da(a):Ea(a)}function Ga(a,b,c,d){B.splice.apply(a,Ha(arguments,1))}function Ha(a,b,c){return 2>=arguments.length?B.slice.call(a,b):B.slice.call(a,b,c)};function Ia(a){var b={},a=""+a,c="#"==a.charAt(0)?a:"#"+a;if(Ja.test(c))return b.Cc=Ka(c),b.type="hex",b;a:{var d=a.match(La);if(d){var c=Number(d[1]),e=Number(d[2]),d=Number(d[3]);if(0<=c&&255>=c&&0<=e&&255>=e&&0<=d&&255>=d){c=[c,e,d];break a}}c=[]}if(c.length){e=c[0];a=c[1];c=c[2];e=Number(e);a=Number(a);c=Number(c);if(isNaN(e)||0>e||255<e||isNaN(a)||0>a||255<a||isNaN(c)||0>c||255<c)throw Error('"('+e+","+a+","+c+'") is not a valid RGB color');e=Ma(e.toString(16));a=Ma(a.toString(16));c=Ma(c.toString(16));
b.Cc="#"+e+a+c;b.type="rgb";return b}if(pa&&(c=pa[a.toLowerCase()]))return b.Cc=c,b.type="named",b;throw Error(a+" is not a valid color string");}var Na=/#(.)(.)(.)/;function Ka(a){if(!Ja.test(a))throw Error("'"+a+"' is not a valid hex color");4==a.length&&(a=a.replace(Na,"#$1$1$2$2$3$3"));return a.toLowerCase()}function Oa(a,b,c){0>c?c+=1:1<c&&(c-=1);return 1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var Ja=/^#(?:[0-9a-f]{3}){1,2}$/i,La=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i;
function Ma(a){return 1==a.length?"0"+a:a};var Pa,Qa,Ra,Sa,Ta;function Ua(){return s.navigator?s.navigator.userAgent:l}Ta=Sa=Ra=Qa=Pa=n;var Va;if(Va=Ua()){var Wa=s.navigator;Pa=0==Va.indexOf("Opera");Qa=!Pa&&-1!=Va.indexOf("MSIE");Sa=(Ra=!Pa&&-1!=Va.indexOf("WebKit"))&&-1!=Va.indexOf("Mobile");Ta=!Pa&&!Ra&&"Gecko"==Wa.product}var Xa=Pa,C=Qa,D=Ta,E=Ra,Ya=Sa,Za=s.navigator,$a=-1!=(Za&&Za.platform||"").indexOf("Win"),ab;
a:{var bb="",cb;if(Xa&&s.opera)var db=s.opera.version,bb="function"==typeof db?db():db;else if(D?cb=/rv\:([^\);]+)(\)|;)/:C?cb=/MSIE\s+([^\);]+)(\)|;)/:E&&(cb=/WebKit\/(\S+)/),cb)var eb=cb.exec(Ua()),bb=eb?eb[1]:"";if(C){var fb,gb=s.document;fb=gb?gb.documentMode:h;if(fb>parseFloat(bb)){ab=""+fb;break a}}ab=bb}var hb={};
function F(a){var b;if(!(b=hb[a])){b=0;for(var c=qa(""+ab).split("."),d=qa(""+a).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",j=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),p=RegExp("(\\d*)(\\D*)","g");do{var o=m.exec(g)||["","",""],q=p.exec(j)||["","",""];if(0==o[0].length&&0==q[0].length)break;b=((0==o[1].length?0:parseInt(o[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==o[1].length?0:parseInt(o[1],10))>(0==q[1].length?0:parseInt(q[1],10))?1:0)||((0==o[2].length)<(0==
q[2].length)?-1:(0==o[2].length)>(0==q[2].length)?1:0)||(o[2]<q[2]?-1:o[2]>q[2]?1:0)}while(0==b)}b=hb[a]=0<=b}return b}var ib={};function jb(a){return ib[a]||(ib[a]=C&&!!document.documentMode&&document.documentMode>=a)};function kb(){}var lb=0;r=kb.prototype;r.key=0;r.Za=n;r.qd=n;r.Sb=function(a,b,c,d,e,f){if(w(a))this.Ld=k;else if(a&&a.handleEvent&&w(a.handleEvent))this.Ld=n;else throw Error("Invalid listener argument");this.tb=a;this.Wd=b;this.src=c;this.type=d;this.capture=!!e;this.Bc=f;this.qd=n;this.key=++lb;this.Za=n};r.handleEvent=function(a){return this.Ld?this.tb.call(this.Bc||this.src,a):this.tb.handleEvent.call(this.tb,a)};function mb(a,b){for(var c in a)b.call(h,a[c],c,a)}function nb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ob(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}var pb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function qb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<pb.length;f++)c=pb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};!C||jb(9);var rb=!C||jb(9),sb=C&&!F("8");!E||F("528");D&&F("1.9b")||C&&F("8")||Xa&&F("9.5")||E&&F("528");D&&!F("8")||C&&F("9");function tb(){}tb.prototype.yd=n;tb.prototype.Ra=function(){this.yd||(this.yd=k,this.Q())};tb.prototype.Q=function(){this.te&&ub.apply(l,this.te)};function ub(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];fa(d)?ub.apply(l,d):d&&"function"==typeof d.Ra&&d.Ra()}};function G(a,b){this.type=a;this.currentTarget=this.target=b}A(G,tb);r=G.prototype;r.Q=function(){delete this.type;delete this.target;delete this.currentTarget};r.ma=n;r.yb=k;r.stopPropagation=function(){this.ma=k};r.preventDefault=function(){this.yb=n};function vb(a){vb[" "](a);return a}vb[" "]=da;function wb(a,b){a&&this.Sb(a,b)}A(wb,G);r=wb.prototype;r.target=l;r.relatedTarget=l;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=n;r.altKey=n;r.shiftKey=n;r.metaKey=n;r.ka=l;
r.Sb=function(a,b){var c=this.type=a.type;G.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(D){var e;a:{try{vb(d.nodeName);e=k;break a}catch(f){}e=n}e||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=E||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=E||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.ka=a;delete this.yb;delete this.ma};r.stopPropagation=function(){wb.Ka.stopPropagation.call(this);this.ka.stopPropagation?this.ka.stopPropagation():this.ka.cancelBubble=k};
r.preventDefault=function(){wb.Ka.preventDefault.call(this);var a=this.ka;if(a.preventDefault)a.preventDefault();else if(a.returnValue=n,sb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};r.Q=function(){wb.Ka.Q.call(this);this.relatedTarget=this.currentTarget=this.target=this.ka=l};var xb={},H={},yb={},zb={};
function I(a,b,c,d,e){if(b){if(u(b)){for(var f=0;f<b.length;f++)I(a,b[f],c,d,e);return l}var d=!!d,g=H;b in g||(g[b]={r:0,T:0});g=g[b];d in g||(g[d]={r:0,T:0},g.r++);var g=g[d],j=ia(a),m;g.T++;if(g[j]){m=g[j];for(f=0;f<m.length;f++)if(g=m[f],g.tb==c&&g.Bc==e){if(g.Za)break;return m[f].key}}else m=g[j]=[],g.r++;f=Ab();f.src=a;g=new kb;g.Sb(c,f,a,b,d,e);c=g.key;f.key=c;m.push(g);xb[c]=g;yb[j]||(yb[j]=[]);yb[j].push(g);a.addEventListener?(a==s||!a.tc)&&a.addEventListener(b,f,d):a.attachEvent(b in zb?
zb[b]:zb[b]="on"+b,f);return c}throw Error("Invalid event type");}function Ab(){var a=Bb,b=rb?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}function Cb(a,b,c,d,e){if(u(b))for(var f=0;f<b.length;f++)Cb(a,b[f],c,d,e);else{d=!!d;a:{f=H;if(b in f&&(f=f[b],d in f&&(f=f[d],a=ia(a),f[a]))){a=f[a];break a}a=l}if(a)for(f=0;f<a.length;f++)if(a[f].tb==c&&a[f].capture==d&&a[f].Bc==e){Db(a[f].key);break}}}
function Db(a){if(xb[a]){var b=xb[a];if(!b.Za){var c=b.src,d=b.type,e=b.Wd,f=b.capture;c.removeEventListener?(c==s||!c.tc)&&c.removeEventListener(d,e,f):c.detachEvent&&c.detachEvent(d in zb?zb[d]:zb[d]="on"+d,e);c=ia(c);e=H[d][f][c];if(yb[c]){var g=yb[c];Ca(g,b);0==g.length&&delete yb[c]}b.Za=k;e.Sd=k;Eb(d,f,c,e);delete xb[a]}}}
function Eb(a,b,c,d){if(!d.Xb&&d.Sd){for(var e=0,f=0;e<d.length;e++)d[e].Za?d[e].Wd.src=l:(e!=f&&(d[f]=d[e]),f++);d.length=f;d.Sd=n;0==f&&(delete H[a][b][c],H[a][b].r--,0==H[a][b].r&&(delete H[a][b],H[a].r--),0==H[a].r&&delete H[a])}}function Fb(a){var b,c=0,d=b==l;b=!!b;if(a==l)mb(yb,function(a){for(var e=a.length-1;0<=e;e--){var f=a[e];if(d||b==f.capture)Db(f.key),c++}});else if(a=ia(a),yb[a])for(var a=yb[a],e=a.length-1;0<=e;e--){var f=a[e];if(d||b==f.capture)Db(f.key),c++}}
function Gb(a,b,c,d,e){var f=1,b=ia(b);if(a[b]){a.T--;a=a[b];a.Xb?a.Xb++:a.Xb=1;try{for(var g=a.length,j=0;j<g;j++){var m=a[j];m&&!m.Za&&(f&=Hb(m,e)!==n)}}finally{a.Xb--,Eb(c,d,b,a)}}return Boolean(f)}function Hb(a,b){var c=a.handleEvent(b);a.qd&&Db(a.key);return c}
function Bb(a,b){if(!xb[a])return k;var c=xb[a],d=c.type,e=H;if(!(d in e))return k;var e=e[d],f,g;if(!rb){f=b||ca("window.event");var j=k in e,m=n in e;if(j){if(0>f.keyCode||f.returnValue!=h)return k;a:{var p=n;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(o){p=k}if(p||f.returnValue==h)f.returnValue=k}}p=new wb;p.Sb(f,this);f=k;try{if(j){for(var q=[],V=p.currentTarget;V;V=V.parentNode)q.push(V);g=e[k];g.T=g.r;for(var J=q.length-1;!p.ma&&0<=J&&g.T;J--)p.currentTarget=q[J],f&=Gb(g,q[J],d,k,p);if(m){g=
e[n];g.T=g.r;for(J=0;!p.ma&&J<q.length&&g.T;J++)p.currentTarget=q[J],f&=Gb(g,q[J],d,n,p)}}else f=Hb(c,p)}finally{q&&(q.length=0),p.Ra()}return f}d=new wb(b,this);try{f=Hb(c,d)}finally{d.Ra()}return f};function Ib(){}A(Ib,tb);r=Ib.prototype;r.tc=k;r.Rc=l;r.addEventListener=function(a,b,c,d){I(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){Cb(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=H;if(b in c){if(v(a))a=new G(a,this);else if(a instanceof G)a.target=a.target||this;else{var d=a,a=new G(b,this);qb(a,d)}var d=1,e,c=c[b],b=k in c,f;if(b){e=[];for(f=this;f;f=f.Rc)e.push(f);f=c[k];f.T=f.r;for(var g=e.length-1;!a.ma&&0<=g&&f.T;g--)a.currentTarget=e[g],d&=Gb(f,e[g],a.type,k,a)&&a.yb!=n}if(n in c)if(f=c[n],f.T=f.r,b)for(g=0;!a.ma&&g<e.length&&f.T;g++)a.currentTarget=e[g],d&=Gb(f,e[g],a.type,n,a)&&a.yb!=n;else for(e=this;!a.ma&&e&&f.T;e=e.Rc)a.currentTarget=
e,d&=Gb(f,e,a.type,n,a)&&a.yb!=n;a=Boolean(d)}else a=k;return a};r.Q=function(){Ib.Ka.Q.call(this);Fb(this);this.Rc=l};var Jb={},Kb,Lb,Mb;function Nb(){}A(Nb,Ib);Nb.prototype.Gc=da;function Ob(a){if(a[0]instanceof Nb)return a[0];u(a)||(a=Fa(arguments));return 2<a.length?new Pb(a):v(a[0])&&("rgb("==a[0].substring(0,4)||"rgba("==a[0].substring(0,5)||"#"==a[0].substring(0,1))?new Pb(a[0]):new Qb(a[0])}Nb.prototype.Ab=da;Nb.prototype.zb=da;function Pb(a){this.za=1;this.Ja(a)}A(Pb,Nb);r=Pb.prototype;r.id="color";function Rb(a,b){return Sb(a,2,b)}
function Sb(a,b,c){var c=c||0.1,d,e=l;if(ga(a.Ya)&&ga(a.Ta)&&ga(a.Pa))e=[a.Ya,a.Ta,a.Pa,a.za];else if(v(a.V)){var f=Ia(a.V);"named"!=f.type&&(e=f.Cc,e=Ka(e),e=[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]);e.push(1)}d=e;if(!d)return a;d.pop();e=d[0]/255;f=d[1]/255;d=d[2]/255;var g=Math.max(e,f,d),j=Math.min(e,f,d),m=0,p=0,o=0.5*(g+j);g!=j&&(g==e?m=60*(f-d)/(g-j):g==f?m=60*(d-e)/(g-j)+120:g==d&&(m=60*(e-f)/(g-j)+240),p=0<o&&0.5>=o?(g-j)/(2*o):(g-j)/(2-2*o));d=[Math.round(m+
360)%360,p,o];d[b]+=c;1<d[b]&&(d[b]=1);b=d[1];c=d[2];g=f=e=0;d=d[0]/360;0==b?e=f=g=255*c:(j=g=0,j=0.5>c?c*(1+b):c+b-b*c,g=2*c-j,e=255*Oa(g,j,d+1/3),f=255*Oa(g,j,d),g=255*Oa(g,j,d-1/3));d=[Math.round(e),Math.round(f),Math.round(g)];d.push(a.za);return a.Ja(d)}
r.Ja=function(a){var b=a;if(v(a))return this.V=a,this;2<arguments.length&&(b=arguments);3<=b.length&&(this.Ya=b[0],this.Ta=b[1],this.Pa=b[2]);4==b.length&&(this.za=b[3]);this.V=1==this.za?"rgb("+this.Ya+","+this.Ta+","+this.Pa+")":"rgba("+this.Ya+","+this.Ta+","+this.Pa+","+this.za+")";return this};r.Ab=function(a){a.style.background=this.V};r.zb=function(a){a.fillStyle=this.V};r.d=function(){var a=new Pb("");a.Ya=this.Ya;a.Ta=this.Ta;a.Pa=this.Pa;a.za=this.za;a.V=this.V;return a};function K(a,b){this.width=a;this.height=b}r=K.prototype;r.d=function(){return new K(this.width,this.height)};function Tb(a){return a.width*a.height}r.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
r.scale=function(a){this.width*=a;this.height*=a;return this};function Qb(a){a&&w(a.data)&&(a=a.data());v(a)?(this.Z=a,50<this.Z.length&&(this.Z=this.Z.substr(-50)),Ub[this.Z]?this.H=Ub[this.Z]:(this.H=new Image,this.H.src=a)):(this.Z=a.src,50<this.Z.length&&(this.Z=this.Z.substr(-50)),this.H=Ub[this.Z]?Ub[this.Z]:a);Vb(this)||I(this.H,"load",this.Ee,n,this);Ub[this.Z]=this.H}A(Qb,Nb);var Ub={};r=Qb.prototype;r.id="image";
r.Gc=function(a){var b=a.b(),c=this;!b.width&&!b.height&&(Vb(this)?a.m(this.H.width,this.H.height):I(this,"load",function(){var a=this.b();!a.width&&!a.height&&this.m(c.H.width,c.H.height)},n,a));Vb(this)||I(this,"load",function(){L(a,Wb)},n,this)};r.Ee=function(a){this.dispatchEvent(a)};function Vb(a){return a.H&&a.H.width&&a.H.height}r.m=function(a,b,c){ga(a)&&(a=new K(a,b),b=c||n);this.q=a;this.Ze=b;return this};
function Xb(a,b){var c=b.b().d();a.q&&(a.Ze?(c.width*=a.q.width,c.height*=a.q.height):c=a.q);var d=new M(0,0);a.Qc&&(a.of?(d.x=c.width*a.Qc.x,d.y=c.height*a.Qc.y):d=a.Qc);return[c,d]}r.Ab=function(a,b){a.style.background="url("+this.H.src+")";var c=Xb(this,b),d=c[0],c=c[1],e=Yb(b);a.style[Zb("BackgroundSize")]=d.width*e+"px "+d.height*e+"px";d=b.N?b.N.jc:0;a.style.backgroundPosition=c.x*e-d+"px "+(c.y*e-d)+"px";this.rf&&(a.style.imageRendering="optimizeQuality")};
r.zb=function(a,b){var c=b.b(),d=N(b);if(c.width&&c.height)try{var e=this.H,f=Xb(this,b),g=f[0],j=f[1],m=a.createPattern(e,"repeat"),p=g.width/e.width,o=g.height/e.height;a.save();a.translate(d.left+j.x,d.top+j.y);a.scale(p,o);a.fillStyle=m;a.fillRect(-j.x/p,-j.y/o,c.width/p,c.height/o);a.restore()}catch(q){}};function M(a,b){this.x=t(a)?a:0;this.y=t(b)?b:0}M.prototype.d=function(){return new M(this.x,this.y)};function $b(a){var b=new M(0,0),c=a.x-b.x,a=a.y-b.y;return Math.sqrt(c*c+a*a)};function O(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}O.prototype.d=function(){return new O(this.top,this.right,this.bottom,this.left)};O.prototype.contains=function(a){return!this||!a?n:a instanceof O?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};
O.prototype.expand=function(a,b,c,d){ha(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};O.prototype.size=function(){return new K(this.right-this.left,this.bottom-this.top)};function ac(){}ac.prototype.D=da;function P(a){return a.nd?a.nd:a}function bc(a,b){qb(b,a);b.nd=P(a);return b};var Q=new ac;Q.Na=function(){};
Q.ue=function(){var a=this.Xa,b=this.Yb(),c=this.ea||1,d=c/a,e;if(this.a){this.Jb&&this.Jb.contains(b)&&(e=Tb(this.Jb.size())/Tb(b.size()))&&1.6>e&&0.5<e?b=this.Jb:1!=this.uf&&0!=this.c.length&&(this instanceof R||b.expand(12,12,12,12));this.Jb=b;var f=b.size();e=f.d().scale(c).ceil();if(this.a.width!=e.width||this.a.height!=e.height)this.a.width=e.width,this.a.height=e.height,this.cc=1;var g=this.u.d();this.k[cc]&&(g=this.k[cc]);0!=e.width?g.scale(f.width*d/e.width):g.scale(1/a);a=N(this);this.qc=
(a.left-b.left)*c;this.rc=(a.top-b.top)*c;b=this.b().d();a=this.Ua();b.width*=a.x;b.height*=a.y;b=b.scale(c);c=this.e.d();this.k[S]&&(c=this.k[S]);c.x*=d;c.y*=d;c.x-=b.width+this.qc;c.y-=b.height+this.rc;dc(this.a,100*((this.qc+b.width)/e.width),100*((this.rc+b.height)/e.height),k);!this.X[S]&&!this.X[cc]&&!this.X[ec]&&(d=-(this.J%=360),t(this.k[ec])&&(d=-this.k[ec]),fc(this.a,gc(new hc,0.1).translate(c.x,c.y).scale(g.x,g.y).rotate(d)));this.cc&&(d=this.a.getContext("2d"),c=this.ea||1,d.clearRect(0,
0,e.width,e.height),d.save(),d.translate(this.qc,this.rc),d.scale(c,c),e=this.b(),g=this.Ua(),d.translate(e.width*g.x,e.height*g.y),this.n.zd.call(this,d),d.restore(),this.cc=0)}};Q.update=function(){};
Q.zd=function(a){if(this.t&&(this.i!=this.ra&&(this.ra&&T.Xd.call(this),this.i&&T.jd.call(this)),!this.Ia&&!this.Qb&&!(0==this.A||1==this.Ic))){1!=this.A&&(a.globalAlpha*=this.A);if(this.i){T.pd.call(this.i);var b=this.ra,c=this.u;a.save();a.save();a.translate(b.Pd.x,b.Pd.y);a.rotate(-b.Qd);this.vb&&a.rotate((this.J%=360)*Math.PI/180);a.beginPath();a.moveTo(0,0);a.lineTo(b.Nc/c.x,0);a.lineTo(b.Nc/c.x,b.Mc/c.y);a.lineTo(0,b.Mc/c.y);a.closePath();a.restore();a.clip()}b=new M(0,0);this.n.D.call(this,
a);for(var d=0,e;e=this.c[d];d++){var f=ic(e,b).d(),g=e.J%=360,c=e.u;a.save();a.translate(f.x,f.y);a.scale(c.x,c.y);0!=g&&a.rotate(-g*Math.PI/180);this.n.zd.call(e,a);a.restore()}1!=this.A&&(a.globalAlpha/=this.A);this.ra&&a.restore()}};function U(a,b){this.x=a;this.y=b}A(U,M);U.prototype.d=function(){return new U(this.x,this.y)};U.prototype.scale=function(a){this.x*=a;this.y*=a;return this};U.prototype.rotate=function(a){var b=Math.cos(a),a=Math.sin(a),c=this.y*b+this.x*a;this.x=this.x*b-this.y*a;this.y=c;return this};var jc,kc,lc,mc,nc,oc=Ua();kc=(jc=E&&Ya&&/(ipod|iphone|ipad)/i.test(oc))&&w(Object.freeze);lc=E&&Ya&&/(android)/i.test(oc);mc=E&&/playbook/i.test(oc);nc=t(document.ontouchmove);function pc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}pc.prototype.d=function(){return new pc(this.left,this.top,this.width,this.height)};function qc(a){return new pc(a.left,a.top,a.right-a.left,a.bottom-a.top)}function rc(a,b){var c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);if(c<=d){var e=Math.max(a.top,b.top),f=Math.min(a.top+a.height,b.top+b.height);if(e<=f)return new pc(c,e,d-c,f-e)}return l}
pc.prototype.contains=function(a){return a instanceof pc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};pc.prototype.b=function(){return new K(this.width,this.height)};var sc;function tc(a,b){var c;c=a.className;c=v(c)&&c.match(/\S+/g)||[];for(var d=Ha(arguments,1),e=c.length+d.length,f=c,g=0;g<d.length;g++)0<=xa(f,d[g])||f.push(d[g]);a.className=c.join(" ");return c.length==e};var uc=!C||jb(9);!D&&!C||C&&jb(9)||D&&F("1.9.1");C&&F("9");function vc(a){return a?new wc(xc(a)):sc||(sc=new wc)}function yc(a,b){var c=b&&"*"!=b?b.toUpperCase():"";return a.querySelectorAll&&a.querySelector&&(!E||zc(document)||F("528"))&&c?a.querySelectorAll(c+""):a.getElementsByTagName(c||"*")}function Ac(a,b){mb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Bc?a.setAttribute(Bc[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})}
var Bc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Cc(a){var b=a.document;if(E&&!F("500")&&!Ya){"undefined"==typeof a.innerHeight&&(a=window);var b=a.innerHeight,c=a.document.documentElement.scrollHeight;a==a.top&&c<b&&(b-=15);return new K(a.innerWidth,b)}a=zc(b)?b.documentElement:b.body;return new K(a.clientWidth,a.clientHeight)}function Dc(a,b,c){return Ec(document,arguments)}
function Ec(a,b){var c=b[0],d=b[1];if(!uc&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ra(d.name),'"');if(d.type){c.push(' type="',ra(d.type),'"');var e={};qb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);d&&(v(d)?c.className=d:u(d)?tc.apply(l,[c].concat(d)):Ac(c,d));2<b.length&&Fc(a,c,b,2);return c}
function Fc(a,b,c,d){function e(c){c&&b.appendChild(v(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];fa(f)&&!(ha(f)&&0<f.nodeType)?ya(Gc(f)?Ea(f):f,e):e(f)}}function zc(a){return"CSS1Compat"==a.compatMode}function Hc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)}function Ic(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Jc(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function Kc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function xc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function Lc(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{for(var c;c=a.firstChild;)a.removeChild(c);a.appendChild(xc(a).createTextNode(b))}}function Gc(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==typeof a.item||"string"==typeof a.item;if(w(a))return"function"==typeof a.item}return n}function wc(a){this.sa=a||s.document||document}r=wc.prototype;
r.vd=function(a,b,c){return Ec(this.sa,arguments)};r.createElement=function(a){return this.sa.createElement(a)};r.createTextNode=function(a){return this.sa.createTextNode(a)};r.appendChild=function(a,b){a.appendChild(b)};r.append=function(a,b){Fc(xc(a),a,arguments,1)};r.contains=Kc;function Mc(a,b){var c;a:{c=xc(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))){c=c[b]||c.getPropertyValue(b);break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:l)||a.style&&a.style[b]}function Nc(a){var b=a.getBoundingClientRect();C&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Oc(a){if(C&&!jb(8))return a.offsetParent;for(var b=xc(a),c=Mc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=Mc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}function Pc(a,b,c){if(b instanceof K)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Qc(b);a.style.height=Qc(c)}
function Qc(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function Rc(a){if("none"!=Mc(a,"display"))return Sc(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Sc(a);b.display=c;b.position=e;b.visibility=d;return a}function Sc(a){var b=a.offsetWidth,c=a.offsetHeight,d=E&&!b&&!c;return(!t(b)||d)&&a.getBoundingClientRect?(a=Nc(a),new K(a.right-a.left,a.bottom-a.top)):new K(b,c)}
function Tc(a){var b=vc(h),c=l;if(C)c=b.sa.createStyleSheet(),Uc(c,a);else{var d=yc(b.sa,"head")[0];d||(c=yc(b.sa,"body")[0],d=b.vd("head"),c.parentNode.insertBefore(d,c));c=b.vd("style");Uc(c,a);b.appendChild(d,c)}return c}function Uc(a,b){C?a.cssText=b:a[E?"innerText":"innerHTML"]=b};var Zb,Vc,Wc,Xc,Yc,Zc,$c;(function(){var a=E?"Webkit":D?"Moz":Xa?"O":C?"ms":"",b=Dc("div").style;Vc="-"+a.toLowerCase()+"-transform";Wc=function(a){return b[a]!==h?a:n};Zb=function(b){var d=b.charAt(0).toLowerCase()+b.substr(1),e=a+b;return Wc(b)?b:Wc(d)?d:Wc(e)?e:h}})();var ad=function(){var a=Zb("BorderRadius");return function(b,c,d,e){e=e?"%":"px";d=t(d)?d:c;c=(u(c)?c.join(e+" "):c)+e+"/"+((u(d)?d.join(e+" "):d)+e);c!=b.oe&&(b.style[a]=b.oe=c)}}();
function hc(a){this.ic=[];this.Wa=1;this.pf&&gc(this,a)}hc.prototype.scale=function(a,b){this.ic.push("scale("+a+","+b+")");return this};hc.prototype.rotate=function(a,b){0!=a&&this.ic.push("rotate("+a+(b?b:"deg")+")");return this};hc.prototype.translate=function(a,b,c){var d=1/this.Wa,e="translate";if(jc||mc)e+="3d";e+="("+a*d+"px,"+b*d+"px";if(jc||mc)e+=","+(c?c:0)*d+"px";this.ic.push(e+")");return this};
function gc(a,b){if(1!=a.Wa){var c=1/a.Wa;a.scale(c,c);a.Wa=1}1!=b&&(a.scale(b,b),a.Wa=b);return a}hc.prototype.toString=function(){1!=this.Wa&&gc(this,1);return this.ic.join(" ")};var fc=function(){var a=Zb("Transform");return function(b,c){var d=c.toString();d!=b.cf&&(b.style[a]=b.cf=d);Kb=1}}(),dc=function(){var a=Zb("TransformOrigin");return function(b,c,d,e){e=e?"%":"px";c=c+e+" "+d+e;c!=b.df&&(b.style[a]=b.df=c)}}();
(function(){function a(a,b){if(!a.length)return a;for(var e=a.split("),"),f=0;f<e.length-1;f++)e[f]+=")";e=za(e,function(a){return-1==a.indexOf(b)});return e.join(",")}var b=Zb("Transition");Xc=!!b&&!Xa;Yc=function(c,d,e,f){if(b){var g=a(c.style[b],d);g.length&&(g+=", ");g+=d+" "+e+"s cubic-bezier("+f[1]+","+f[2]+","+f[3]+","+f[4]+")";c.style[b]=g}};Zc=function(c,d){b&&c&&(c.style[b]=a(c.style[b],d))};$c=function(a,b,e){if(a.ef!=b||a.Ce!=e)a.ef=b,a.Ce=e,Pc(a,b,e)}})();var T=new ac;T.Na=function(){for(var a=0,b,c=0;b=this.c[c];c++)b=b instanceof W?b.B:b,b==this.a.childNodes[a]?a++:(Kc(this.P,b)&&Jc(b),T.me(this.P,b,a++))};
T.ve=function(){var a=this.b(),b=this.Xa,c=this.e,d=this.ea||1;this.k[S]&&(c=this.k[S]);var e=Math.round(a.width*d),f=Math.round(a.height*d),g=this.u.d();this.k[cc]&&(g=this.k[cc].d());0!=e?g.scale(a.width/(e*b/d)):g.scale(1/b);$c(this.a,e,f);dc(this.a,100*this.hb.x,100*this.hb.y,k);e=this.hb.x*a.width*d;f=this.hb.y*a.height*d;a=c.x*d/b-e;b=c.y*d/b-f;c=this.N?this.N.jc:0;(0!=e-c||0!=f-c)&&this.a==this.P&&this.c.length&&T.Je.call(this);this.a!=this.P&&!this.X[S]&&!this.X[cc]&&!this.X[ec]&&fc(this.P,
(new hc).translate(e-c,f-c));this.i!=this.ra&&(this.ra&&T.Xd.call(this),this.i&&T.jd.call(this));c=gc(new hc,0.1);this.i&&(T.pd.call(this.i),gc(gc(c,0.1).translate(-this.i.He-e,-this.i.Ie-f).rotate(this.i.Qd,"rad").translate(e,f),1));e=-(this.J%=360);t(this.k[ec])&&(e=-this.k[ec]);c.translate(a,b).scale(g.x,g.y).rotate(e);!this.X[S]&&!this.X[cc]&&!this.X[ec]&&fc(this.a,c)};
T.update=function(){if(this.a){T.ve.call(this);if(!this.X[bd]){var a=this.A;t(this.k[bd])&&(a=this.k[bd]);if(this.o&cd){var b=this.a.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")}}this.o&dd&&(this.a.style.display=this.Qb?"none":"block");this.Ia||this.n.D.call(this,this.a)}};
T.pd=function(){if(t(this.$c)&&this.$c.t){var a=this.$c,b=N(this),c=new M(b.left,b.top),d=new M(b.right,b.top),e=new M(b.right,b.bottom),b=a.getParent(),c=ed(this,c,b),d=ed(this,d,b),e=ed(this,e,b),b=Math.atan2(c.y-d.y,d.x-c.x),f=d.x-c.x,g=c.y-d.y,j=e.x-d.x,m=e.y-d.y,d=Math.cos(b),e=Math.sin(b);this.Nc=Math.round(Math.sqrt(f*f+g*g));this.Mc=Math.round(Math.sqrt(j*j+m*m));P(a.n)==T&&(f=a.B,Pc(f,this.Nc,this.Mc),fc(f,gc(new hc,0.1).translate(c.x,c.y).rotate(-b,"rad")));P(this.n)==T&&(this.a.style.display=
"none");this.Pd=fd(a,c.d());this.He=d*c.x-e*c.y;this.Ie=d*c.y+e*c.x;this.Qd=b}};T.me=function(a,b,c){c==h||a.childNodes.length<=c?a.appendChild(b):a.insertBefore(b,a.childNodes[c])};T.Je=function(){this.P=Dc("div");for(var a=document.createDocumentFragment(),b;b=this.a.firstChild;)this.a.removeChild(b),a.appendChild(b);this.P.appendChild(a);this.a.appendChild(this.P)};
T.Xd=function(){if(this.a!=this.B){if(P(this.n)==T){Jc(this.a);var a=this.B,b=a.parentNode;b&&b.replaceChild(this.a,a);this.B=this.a}this.ra.Ic=0;this.ra=l}};T.jd=function(){if(P(this.n)==T){this.B=Dc("div");this.B.style.cssText="position:absolute;overflow:hidden;";dc(this.B,0,0);var a=this.a,b=a.parentNode;b&&b.replaceChild(this.B,a);this.B.appendChild(this.a)}this.i.Ic=1;this.i.$c=this;this.ra=this.i;L(this.i,gd)};var hd;(hd="ScriptEngine"in s&&"JScript"==s.ScriptEngine())&&(s.ScriptEngineMajorVersion(),s.ScriptEngineMinorVersion(),s.ScriptEngineBuildVersion());function id(a,b){this.O=hd?[]:"";a!=l&&this.append.apply(this,arguments)}id.prototype.set=function(a){this.clear();this.append(a)};hd?(id.prototype.sc=0,id.prototype.append=function(a,b,c){b==l?this.O[this.sc++]=a:(this.O.push.apply(this.O,arguments),this.sc=this.O.length);return this}):id.prototype.append=function(a,b,c){this.O+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.O+=arguments[d];return this};id.prototype.clear=function(){hd?this.sc=this.O.length=0:this.O=""};
id.prototype.toString=function(){if(hd){var a=this.O.join("");this.clear();a&&this.append(a);return a}return this.O};C&&F(8);(function(){var a=[[],[]],b=[[],[]];Lb=function(c,d,e){Ba((e?b:a)[d||0],c)};Mb=function(){for(var c,d=0;2>d;d++){for(;a[d].length;)c=a[d][0],c.update(d),c.o=0,c==a[d][0]&&a[d].shift();a[d]=[]}b=[[],[]]}})();var gd=1,Wb=4,cd=16,dd=32,S=1,cc=2,ec=4,bd=5,jd;var kd=new id;
kd.append(".","lime-director"," {position:absolute; -webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; image-rendering:  optimizeSpeed; overflow: hidden;}.","lime-director"," div, .","lime-director"," img, .","lime-director"," canvas {-webkit-transform-origin: 0 0; -moz-transform-origin: 0 0; -o-transform-origin: 0 0; position: absolute; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; -moz-user-select: none; -webkit-user-select: none; -webkit-user-drag: none;}.",
"lime-scene"," {position:absolute; width:100%; height:100%; left: 0px; top: 0px; overflow: hidden; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box;}.","lime-fps"," {float: left; background: #333; color: #fff; position: absolute; top:0px; left: 0px; padding:2px 4px;}div.","lime-layer"," {position: absolute; left: 0px; top: 0px; width:0px; height:0px; border: none !important;}.","lime-cover"," {position: absolute; left: 0px; top: 0px;}.","lime-button"," {cursor: pointer;}");
jd=kd.toString();Tc(jd);function W(){this.c=[];this.g=l;this.pa={};this.k={};this.X={};this.ad={};this.t=n;this.Vc=this.vc=l;this.F={};this.Yc(1);this.f(0,0);this.m(0,0);this.Xa=1;this.Xc(0.5,0.5);this.J=0;this.k[ec]||L(this,gd);this.md=0;L(this,7);this.A=1;ld(this);md(this,P(this.va[0]));L(this,64)}A(W,Ib);r=W.prototype;r.va=[T,Q];function md(a,b){if(!a.n||P(a.n)!=b){for(var c=-1,d=0;d<a.va.length;d++)if(P(a.va[d])==b){c=d;break}if(-1!=c){a.n=a.va[d];L(a,64);for(d=0;c=a.c[d];d++)md(c,b)}}}
r.vb=function(){return!(this.g&&P(this.g.n)==Q)};function nd(a){return a.vb()?(a.vb()?od(a):pd(a),a):a.g?nd(a.g):l}function qd(a){if(!a.g||a instanceof R)return[];var b=a.g.c.indexOf(a),a=qd(a.g);a.push(b);return a}function rd(a,b){if(a==b)return 0;for(var c=qd(a),d=qd(b),e=0;;){if(c.length<=e)return 1;if(d.length<=e)return-1;if(c[e]==d[e])e++;else return c[e]>d[e]?-1:1}}r.tc=n;
function L(a,b,c,d){b&&!a.o&&Lb(a,c,d);a.o|=b;if(64==b)for(c=0;d=a.c[c];c++)d instanceof W&&L(d,64);if(!t(a.o)||!b)a.o=0;b&&a.Ia&&L(a.Ia,-1);return a}r.Yc=function(a,b){this.u=1==arguments.length&&ga(a)?new U(a,a):2==arguments.length?new U(arguments[0],arguments[1]):a;this.k[cc]||L(this,2)};r.f=function(a,b){this.e=2==arguments.length?new M(arguments[0],arguments[1]):a;return this.k[S]?this:L(this,gd)};
function ld(a){if(l!=a.i){if(a.i){var b=a.i;delete b.uc;sd(b,b.getParent());delete a.i.Ia}a.i=l;a.i&&(td(a.i),a.i.Ia=a);L(a,Wb)}}r.Ua=aa("hb");r.Xc=function(a,b){this.hb=2==arguments.length?new U(arguments[0],arguments[1]):a;L(this,gd)};function ud(a,b){a.Qb=b;L(a,dd);a.ld=0}r.b=aa("q");
r.m=function(a,b){var c=this.q,d,e;d=2==arguments.length?new K(arguments[0],arguments[1]):a;var f=this.Ua();if(c&&this.c.length)for(var g=0;g<this.c.length;g++){var j=this.c[g];if(j.ze){var m=j.md;if(0!=m){var p=j.ob();e=c.width;var o=p.left+f.x*c.width,q=p.right-p.left,V=e-p.right-f.x*c.width;m&1&&(e-=o);m&2&&(e-=q);m&4&&(e-=V);e!=c.width&&(e=(d.width-e)/(c.width-e),m&1&&(o*=e),m&2&&(q*=e));e=c.height;var V=p.top+f.y*c.height,J=p.bottom-p.top,p=e-p.bottom-f.y*c.height;m&8&&(e-=V);m&16&&(e-=J);m&
32&&(e-=p);e!=c.height&&(e=(d.height-e)/(c.height-e),m&8&&(V*=e),m&16&&(J*=e));m=j.Ua();j.m(q,J);j.f(o+m.x*q-f.x*d.width,V+m.y*J-f.y*d.height)}}}this.q=d;return L(this,2)};function Yb(a){a.ea||vd(a);return a.ea}function vd(a){var b=t(a.ea)?a.ea:a.Xa;a.g&&a.g.ea&&(b=a.Xa*a.g.ea);if(b!=a.ea){a.ea=b;for(var b=0,c;c=a.c[b];b++)c instanceof W&&vd(c);L(a,2)}}r.ze=aa("md");r.na=function(a){return!this.t?a:fd(this,this.getParent().na(a))};
function fd(a,b){if(!a.getParent())return l;b.x-=a.e.x;b.y-=a.e.y;b.x/=a.u.x;b.y/=a.u.y;if(0!=a.J){var c=b.d(),d=a.J*Math.PI/180,e=Math.cos(d),d=Math.sin(d);b.x=e*c.x-d*c.y;b.y=e*c.y+d*c.x}return b}r.Wb=function(a){return!this.t?a:this.getParent().Wb(ic(this,a))};function ic(a,b){if(!a.getParent())return b;var c=b.d();if(0!=a.J){var d=-a.J*Math.PI/180,e=Math.cos(d),d=Math.sin(d);c.x=e*b.x-d*b.y;c.y=e*b.y+d*b.x}c.x*=a.u.x;c.y*=a.u.y;c.x+=a.e.x;c.y+=a.e.y;return c}
function ed(a,b,c){return!a.t?b:c.na(a.Wb(b))}function wd(a,b){a.A=b;var c=a.Qb;0==a.A&&!c?(ud(a,k),a.ld=1):0!=a.A&&c&&a.ld&&ud(a,n);if(t(a.k[bd]))return a;L(a,cd);return a}function od(a){function b(){this.a=this.B=this.P=Dc(c);this.mb&&tc(this.a,this.mb);this.o|=-1}var c=P(a.n)==Q?"canvas":"div";if(a.a){if(a.a.tagName.toLowerCase()!=c){var d=a.B;b.call(a);d.parentNode&&d.parentNode.replaceChild(a.B,d)}}else b.call(a)}function pd(a){a.B&&(Jc(a.B),delete a.a,delete a.B,delete a.P)}
r.Na=function(){this.o&=-65;this.vb()?od(this):pd(this);if(this.g&&this.g.o&64)this.g.Na();else if(this.vb()){for(var a=0,b;b=this.c[a];a++)b instanceof W&&b.Na();this.n.Na.call(this)}};
r.update=function(a){var b,c,a=a||0;ia(this);this.o&64&&this.Na();var d=P(this.n)==T||a;if(d){for(var e in this.ad)delete this.k[e],delete this.X[e],b=parseInt(e,10)==bd?"opacity":Vc,Zc(this.a,b),this.a!=this.P&&Zc(this.lf,b);b=0;for(e in this.pa)c=this.pa[e],c[3]||(c[3]=1,e==S&&this.Se!=this.e&&(L(this,gd,0,k),b=1),e==cc&&this.We!=this.u&&(L(this,2,0,k),b=1),e==bd&&this.Pe!=this.A&&(L(this,cd,0,k),b=1),e==ec&&this.Ve!=this.J&&(L(this,128,0,k),b=1));if(!b)for(e in this.pa){c=this.pa[e];b=parseInt(e,
10)==bd?"opacity":Vc;if(P(this.n)==T||"opacity"!=b)this.k[e]=c[0],Yc(this.a,b,c[1],c[2]),this.a!=this.P&&b==Vc&&Yc(this.P,b,c[1],c[2]);delete this.pa[e]}this.Se=this.e;this.We=this.u;this.Pe=this.A;this.Ve=this.J;this.ad={}}a?this.n.ue.call(this):(P(this.n)==Q&&(c=nd(this),c.cc=1,c==this&&this.o==gd&&!this.i&&(c.cc=0),Lb(nd(this),1)),this.n.update.call(this));if(d)for(e in this.k)this.k[e]&&(this.X[e]=k);if(this.Aa)for(e=0;e<this.Aa.length;e++)L(this.Aa[e],7);L(this,0,a)};
r.getParent=function(){return this.g?this.g:l};r.appendChild=function(a,b){a instanceof W&&a.getParent()?a.getParent().removeChild(a):a.parentNode&&Jc(a);a.g=this;b==h?this.c.push(a):Ga(this.c,b,0,a);P(this.n)!=T&&md(a,P(this.n));a instanceof W&&(vd(a),this.t&&xd(a));return L(this,64)};
r.removeChild=function(a){a=this.c.indexOf(a);if(0<=a&&this.c.length>a){var b=0<=a&&this.c.length>a?this.c[a]:l;b.Ia&&ld(b.Ia);b instanceof W?(this.t&&yd(b),pd(b),b.g=l):Jc(b);this.c.splice(a,1);a=L(this,64)}else a=this;return a};r.addEventListener=function(a){nc&&"mouse"==a.substring(0,5)||(t(this.F[a])||(this.F[a]=[0,0]),this.t&&0==this.F[a][0]&&(this.F[a][0]=1,this.K().Sa.dc(this,a)),this.F[a][1]++)};
r.removeEventListener=function(a){nc&&"mouse"==a.substring(0,5)||(this.t&&1==this.F[a][1]&&(this.F[a][0]=0,this.K().Sa.xb(this,a)),this.F[a][1]--,this.F[a][1]||delete this.F[a])};r.K=function(){return!this.t?l:this.vc};r.Mb=function(){return!this.t?l:this.Vc};function yd(a){var b;a.uc||sd(a,a.getParent());for(var c=0;b=a.c[c];c++)b instanceof W&&yd(b);for(var d in a.F){a.F[d][0]=0;if(!a.K())debugger;a.K().Sa.xb(a,d)}zd(a.K().Sa,a);a.t=n;a.vc=l;a.Vc=l}
function xd(a){a.t=k;a.vc=a.g.K();a.Vc=a.g.Mb();for(var b=0,c;c=a.c[b];b++)c instanceof W&&xd(c);for(var d in a.F)a.F[d][0]=1,a.K().Sa.dc(a,d);a.uc&&td(a);zd(a.K().Sa,a)}function td(a){a.uc=k;a.t&&Ad(a,a.getParent())}function Ad(a,b){b.Aa||(b.Aa=[]);Ba(b.Aa,a);!b&&!(b.getParent()instanceof R)&&Ad(a,b.getParent())}function sd(a,b){b&&b.Aa&&(Ca(b.Aa,a),sd(a,b.getParent()))}function N(a){var b=a.b(),a=a.Ua();return new O(-b.height*a.y,b.width*(1-a.x),b.height*(1-a.y),-b.width*a.x)}
r.ob=function(a){var b=a||N(this),a=new M(b.left,b.top),c=new M(b.right,b.top),d=new M(b.left,b.bottom),b=new M(b.right,b.bottom),a=ic(this,a),c=ic(this,c),d=ic(this,d),b=ic(this,b);return new O(Math.floor(Math.min(a.y,c.y,d.y,b.y)),Math.ceil(Math.max(a.x,c.x,d.x,b.x)),Math.ceil(Math.max(a.y,c.y,d.y,b.y)),Math.floor(Math.min(a.x,c.x,d.x,b.x)))};
r.Yb=function(){var a=N(this);a.left==a.right&&this.c.length&&(a=this.c[0].ob(this.c[0].Yb()));for(var b=0,c;c=this.c[b];b++)if(1!=c.Ic){var d=a;c=c.ob(c.Yb());d.left=Math.min(d.left,c.left);d.top=Math.min(d.top,c.top);d.right=Math.max(d.right,c.right);d.bottom=Math.max(d.bottom,c.bottom)}return a};r.da=function(a){this.ad[a]=1};r.la=function(a){var b=this.na(a.fa);return N(this).contains(b)?(a.position=b,k):n};function Bd(a,b){Ba(b.ab,a);b.play()};Q.v={};T.v={};function Cd(){W.call(this);this.N=this.Da=l}A(Cd,W);Cd.prototype.id="sprite";Cd.prototype.va=[bc(T,T.v),bc(Q,Q.v)];Cd.prototype.M=function(a,b,c,d){this.Da=Ob(Fa(arguments));this.Da.Gc(this);L(this,Wb);return this};T.v.D=function(a){this.Da===l||this.Da.Ab(a,this);this.N===l?a.style.border="none":this.N.Ab(a,this)};
Q.v.D=function(a){var b=this.b(),c=this.Da,d=this.N;if(c||d){var e=N(this);c&&(c.zb(a,this),"image"!=c.id&&"frame"!=c.id&&a.fillRect(e.left,e.top,b.width,b.height));if(d&&(d.zb(a,this),"sprite"==this.id||"label"==this.id))c=d.jc/2,a.strokeRect(e.left+c,e.top+c,b.width-2*c,b.height-2*c)}};Q.ed={};function Dd(a){Cd.call(this);this.Xe.apply(this,arguments)}A(Dd,Cd);r=Dd.prototype;r.id="polygon";r.va=[bc(Q.v,Q.ed)];r.Xe=function(a){this.j=[];this.oc.apply(this,arguments);return this};r.oc=function(a){a=Fa(arguments);if(a.length){if(a[0]instanceof M)ya(a,function(a){Ed(this,a)},this);else for(var b=1;b<a.length;b+=2)Ed(this,new M(a[b-1],a[b]));return this}};
function Ed(a,b){a.j.length?(a.Zb=Math.min(b.x,a.Zb),a.$b=Math.min(b.y,a.$b),a.Oc=Math.max(b.x,a.Oc),a.Pc=Math.max(b.y,a.Pc)):(a.Zb=a.Oc=b.x,a.$b=a.Pc=b.y);a.j.push(b)}r.b=function(){return new K(this.Oc-this.Zb,this.Pc-this.$b)};r.Ua=function(){var a=this.b();return new U(-this.Zb/a.width,-this.$b/a.height)};r.la=function(a){var b=this.j,c=b.length,a=this.na(a.fa),d=n;if(2<c){var e,f;for(e=0,f=c-1;e<c;f=e++)b[e].y>a.y!=b[f].y>a.y&&a.x<(b[f].x-b[e].x)*(a.y-b[e].y)/(b[f].y-b[e].y)+b[e].x&&(d=!d)}return d};
Q.ed.D=function(a){this.b();var b=this.Da,c=this.j;if(2<c.length){a.save();a.beginPath();a.moveTo(c[0].x,c[0].y);for(var d=1;d<c.length;d++)a.lineTo(c[d].x,c[d].y);a.closePath();b&&(a.fillStyle=b.V);a.clip();Q.v.D.call(this,a);this.N&&(a.lineWidth*=2,a.stroke());a.restore()}};var X=new function(){this.W=[];this.w=n;this.Kd=0;this.xc=1E3/30;this.Ha=0};function Fd(a,b){this.s=this.Rd=a;this.Kc=t(b)?b:-1;this.ta=[]}Fd.prototype.$a=function(a){if(this.ta.length)if(this.s>a)this.s-=a;else{var b=this.Rd+a-this.s;this.s=this.Rd-(a-this.s);0>this.s&&(this.s=0);for(var c,a=this.ta.length;0<=--a;)(c=this.ta[a])&&c[0]&&w(c[1])&&c[1].call(c[2],b);-1!=this.Kc&&(this.Kc--,0==this.Kc&&X.bd(c[1],c[2]))}};X.W.push(new Fd(0));X.gd=s.mozRequestAnimationFrame||s.webkitRequestAnimationFrame;
X.mf=aa("xc");X.sf=function(a){this.xc=a;this.w&&(X.wd(),X.hd())};X.Wc=function(a,b,c){c=t(c)?c:this.W[0];Ba(c.ta,[1,a,b]);Ba(this.W,c);this.w||X.hd()};X.bd=function(a,b){for(var c=this.W.length;0<=--c;){for(var d=this.W[c],e=d.ta,f,g=e.length;0<=--g;)f=e[g],f[1]==a&&f[2]==b&&Ca(e,f);0==e.length&&0!=c&&Ca(this.W,d)}1==this.W.length&&0==this.W[0].ta.length&&X.wd()};
X.hd=function(){this.w||(this.Ha=oa(),X.gd?s.mozRequestAnimationFrame?(s.mozRequestAnimationFrame(),this.od=z(X.ne,this),s.addEventListener("MozBeforePaint",this.od,n)):(this.pc=z(X.le,this),s.webkitRequestAnimationFrame(this.pc)):this.Kd=setInterval(z(X.af,this),X.xc),this.w=k)};X.wd=function(){this.w&&(X.gd?s.mozRequestAnimationFrame?s.removeEventListener("MozBeforePaint",this.od,n):s.webkitCancelRequestAnimationFrame(this.pc):clearInterval(this.Kd),this.w=n)};
X.le=function(a){a||(a=oa());X.wc(a-this.Ha);this.Ha=a;s.webkitRequestAnimationFrame(this.pc)};X.ne=function(a){X.wc(a.timeStamp-this.Ha);this.Ha=a.timeStamp;s.mozRequestAnimationFrame()};X.af=function(){var a=oa(),b=a-this.Ha;0>b&&(b=1);X.wc(b);this.Ha=a};X.wc=function(a){for(var b=this.W.length;0<=--b;)this.W[b].$a(a);1==Kb&&/Firefox\/4./.test(Ua())&&!Jb.kf&&(X.Td?(document.body.style.MozTransform="",X.Td=0):(document.body.style.MozTransform="scale(1,1)",X.Td=1),Kb=0)};
X.re=function(a){for(var b,c,d,e,f=this.W.length;0<=--f;){b=this.W[f];for(e=b.ta.length;0<=--e;)d=b.ta[e],c=d[2],w(c.K)&&(c=c.K(),c==a&&(d[0]=k))}};X.qe=function(a,b){X.Zd(a,b,100,1)};X.Zd=function(a,b,c,d){X.Wc(a,b,new Fd(c,d))};var Gd;function Hd(){this.ab=[];this.Hc=[];this.fc={};this.aa=1;this.nb=Id;this.ua=0}A(Hd,Ib);r=Hd.prototype;r.scope="";r.oa=function(a){this.aa=a;return this};r.play=function(){this.Tc=0;this.Dd=this.ua=1;X.Wc(this.$a,this);this.dispatchEvent({type:"start"})};r.stop=function(){if(0!=this.ua){var a=this.Hc;if(Jd(this)&&this.da)for(var b=a.length;0<=--b;)this.da(a[b]);this.Hc=[];this.fc={};this.ua=0;X.bd(this.$a,this);this.dispatchEvent({type:"stop"})}};r.ub=function(){return{}};
function Kd(a,b){var c=ia(b);t(a.fc[c])||(Ld.dc(a,b),a.ua=1,Ba(a.Hc,b),a.Cb&&!a.Zc&&a.ib&&a.ib(),a.fc[c]=a.ub(b));return a.fc[c]}r.K=function(){return this.ab[0]?this.ab[0].K():l};r.$a=function(a){this.Cb&&!this.Zc&&this.ib&&this.ib();this.Dd&&(delete this.Dd,a=1);this.Tc+=a;var b=this.Tc/(1E3*this.aa);if(isNaN(b)||1<=b)b=1;a=this.ab;b=this.nb[0](b);isNaN(b)&&(b=1);for(var c=a.length;0<=--c;)this.update(b,a[c]);1==b&&this.stop()};function Jd(a){return 0<a.aa&&Xc&&a.Re&&!lc&&!D}
function Md(a){a.Re=t(h)?h:k;return a}var Ld=new function(){this.ha={}};Ld.dc=function(a,b){if(a.scope.length){var c=ia(b);t(this.ha[c])||(this.ha[c]={});t(this.ha[c][a.scope])&&this.ha[c][a.scope].stop();this.ha[c][a.scope]=a}};Ld.vf=function(a){a=ia(a);if(t(this.ha[a]))for(var b in this.ha[a])this.ha[a][b].stop(),delete this.ha[a][b]};
(function(){function a(a){var e,f,g,q;for(g=a,f=0;8>f;f++){q=((b*g+c)*g+d)*g-a;if(5.0E-5>(0<=q?q:0-q))return g;e=(3*b*g+2*c)*g+d;if(1.0E-6>(0<=e?e:0-e))break;g-=q/e}e=0;f=1;g=a;if(g<e)return e;if(g>f)return f;for(;e<f;){q=((b*g+c)*g+d)*g;if(5.0E-5>(0<=q-a?q-a:0-(q-a)))break;a>q?e=g:f=g;g=0.5*(f-e)+e}return g}var b=0,c=0,d=0,e=0,f=0,g=0;Gd=function(j,m,p,o){return[function(q){d=3*j;c=3*(p-j)-d;b=1-d-c;g=3*m;f=3*(o-m)-g;e=1-g-f;return((e*a(q)+f)*a(q)+g)*a(q)},j,m,p,o]}})();var Id=Gd(0.42,0,0.58,1);function Nd(a){Hd.call(this);this.Cd=1==arguments.length&&ga(a)?new U(a,a):2==arguments.length?new U(arguments[0],arguments[1]):a}A(Nd,Hd);Nd.prototype.scope="scale";Nd.prototype.ub=function(a){var b=a.u,c=new U(b.x*this.Cd.x-b.x,b.y*this.Cd.y-b.y);Jd(this)&&(a.pa[cc]=[new U(b.x+c.x,b.y+c.y),this.aa,this.nb,0],L(a,2));return{be:b,s:c}};Nd.prototype.update=function(a,b){if(0!=this.ua){var c=Kd(this,b);b.Yc(c.be.x+c.s.x*a,c.be.y+c.s.y*a)}};Nd.prototype.da=function(a){Jd(this)&&(a.da(cc),L(a,2))};function R(){W.call(this);this.Xc(0,0);this.mb="lime-scene";od(this)}A(R,W);R.prototype.Mb=function(){return this};R.prototype.Yb=function(){return N(this)};var Y,Z,Od;
function Pd(){R.call(this);this.je="#A09A6D";this.mc="#93645A";this.fd="#00FF00";this.dd="#F2C45A";this.fe="#808080";this.ke="#5E8C6A";this.ie="#8C2318";this.nc=-2;this.he=-1;this.ge=0;this.ya=this.cb=13;this.qa=Qd==Rd?13:26;this.Hb=16;this.Gb=100;this.Fa=Math.cos(30*(Math.PI/180))*this.qa;this.Dc=Math.sin(30*(Math.PI/180))*this.qa;this.Ob=this.qa/2;this.Pb=Math.sin(60*(Math.PI/180))*this.qa;this.de=this.Fa;this.ee=4*this.Dc;this.$=wd((new Sd).f(this.de,this.ee),0);this.scale=1;Td(this);this.Qa=Array(this.cb);
this.ia=Array(this.cb);this.bc=Array(this.cb);var a=-this.Gb,b=-this.Gb,c=(this.Dc+this.qa)*this.cb+this.Dc+2*this.Gb,d=2*this.Fa*this.ya+2*this.Gb;this.$.appendChild((new Dd).oc(a,b,c,b,c,d,a,d));for(x=0;x<this.cb;x++){this.Qa[x]=Array(this.ya);this.ia[x]=Array(this.ya);this.bc[x]=Array(this.ya);for(y=0;y<this.ya;y++)this.ia[x][y]=this.nc,this.bc[x][y]=this.nc,this.Qa[x][y]=Ud(this,this.ia[x][y]),this.$.appendChild(this.Qa[x][y])}this.appendChild(this.$);this.ca=wd((new Sd).f(0,0).m(Y,Z),0);a=parseInt(Y/
5.3333);b=Y-2*a;this.p=Vd((new Wd).m(b,a),5).M(this.je);this.p.f(this.p.b().width/2,Z-0.5*this.p.b().height);this.ca.appendChild(this.p);Xd(this);Yd(this);this.Fb=Vd((new Wd).m(a,a/2),10).M(this.ke);this.Fb.f(-1*this.Fb.b().width,0);this.p.appendChild(this.Fb);this.wb=Vd((new Wd).m(a,a/2),10).M(this.ie);this.wb.f(0*this.wb.b().width,0);this.p.appendChild(this.wb);this.pb=Vd((new Wd).m(a,a/2),10).M(this.dd);this.pb.f(1*this.pb.b().width,0);this.p.appendChild(this.pb);this.appendChild(this.ca);Bd(this.ca,
new Zd(1));Bd(this.$,new Zd(1));this.hc();X.Zd(this.hc,this,2E3)}A(Pd,R);function Td(a){Cb(a.$,["mousedown","touchstart"]);console.log(a.scale);I(a.$,["mousedown","touchstart"],function(b){var c=a.ob();new $d(b,n,c,h)})}Pd.prototype.ob=function(){return Qd==Rd?boundingBox=new O(-Z*this.scale+Z/2,Y*this.scale/4+Y/2,Z*this.scale/4+Z/2,1.25*-Y*this.scale+Y/2):boundingBox=new O(3*-Z*this.scale/4+Z/2,Y*this.scale/4+Y/2,Z*this.scale/10+Z/2,1.25*-Y*this.scale+Y/2)};
function Xd(a){var b=Md((new Nd(0.66666667)).oa(0.05)),c=a.p.b().height,c=(new ae("-")).m(c,c).Ja("#88A65E").f(a.p.e.x+a.p.b().width/2+c/2,a.p.e.y);I(c,"click",function(){0.7<a.scale&&(Bd(a.$,b),a.scale*=0.66666667,a.scale=a.scale.toFixed(4),Td(a));Xd(a)});a.ca.appendChild(c);a.ca.removeChild(a.jf);a.jf=c}
function Yd(a){var b=Md((new Nd(1.5)).oa(0.05)),c=a.p.b().height,c=(new ae("+")).m(c,c).Ja("#88A65E").f(a.p.e.x+a.p.b().width/2+3*c/2,a.p.e.y);I(c,"click",function(){2.5>a.scale&&(Bd(a.$,b),a.scale*=1.5,a.scale=a.scale.toFixed(4),Td(a));Yd(a)});a.ca.appendChild(c);a.ca.removeChild(a.hf);a.hf=c}
Pd.prototype.hc=function(){var a=this;be(ce+"/Status/"+de+"/"+ee,function(b){a.G=fe(b.target);if(a.G.GameStatus){b=a.ce;b=a.G.GameStart?a.G.GameOver?a.G.Winner?ge((new $).C("You win!"),"bold"):(new $).C("Opponent won"):a.G.Turn?ge((new $).C("Your turn"),"bold"):(new $).C("Opponent's turn"):(new $).C("Waiting for second player");b.f(0,-a.p.b().height/2);he(b.m(1E3,0),a.Hb);a.p.appendChild(b);a.p.removeChild(a.ce);a.ce=b;b=a.G.PlayerScore;b=he((new $).C("You: "+b),a.Hb);a.Fb.appendChild(b);a.Fb.removeChild(a.gf);
a.gf=b;b=a.G.OpponentScore;b=he((new $).C("Rival: "+b),a.Hb);a.wb.appendChild(b);a.wb.removeChild(a.Qe);a.Qe=b;b=parseInt(a.G.TotalHoney/2)+1;b=he((new $).C("Win: "+b),a.Hb);a.pb.appendChild(b);a.pb.removeChild(a.De);a.De=b;a.ia=a.G.Board;for(x=0;x<a.ya;x++)for(y=0;y<a.ya;y++)a.ia[x][y]!=a.bc[x][y]&&(a.$.removeChild(a.Qa[x][y]),a.Qa[x][y]=Ud(a,a.ia[x][y]),a.$.appendChild(a.Qa[x][y]),a.ia[x][y]>a.ge&&a.$.appendChild(ie(a,a.ia[x][y])),a.bc[x][y]=a.ia[x][y])}a.G.Gameover&&X.bd(a.hc)})};
function je(a,b){var c=a.ca.c.length;console.log("Total Nodes: "+c);console.log(a.ca);for(i=0;i<c;i++)if((0<=i&&a.ca.c.length>i?a.ca.c[i]:l).la(b))return k;return n}function ke(a,b,c){var d=2*b*a.Fa,c=c*(a.Fa+a.qa)+a.Fa;1==b%2&&(c-=a.Fa);return new M(d,c)}function le(a,b,c){var d;d=a.qa;d=(new Dd).oc(0,a.Pb,a.Ob,0,a.Ob+d,0,2*d,a.Pb,a.Ob+d,2*a.Pb,a.Ob,2*a.Pb);hexPosition=ke(a,b,c);d.f(hexPosition);return d}
function me(a,b,c){var d=le(a,b,c);wd(d.M(a.mc),0.5);I(d,["mousedown","touchstart"],function(e){a.G==h||!a.G.GameStatus||!a.G.Turn||a.G.GameOver||je(a,e)||(d.M(a.fd),e.ga("mousemove",function(){d.M(a.mc)}),e.ga("touchmove",function(){d.M(a.mc)}),e.ga(["mouseup","touchend"],function(){d.Da.V==a.fd&&ne(a,b,c)}))});return d}function ne(a,b,c){be(ce+"/Move/"+de+"/"+ee+"/"+b+"/"+c,function(){a.hc()})}
function ie(a,b){var c=x,d=y,e=he(oe((new $).C(b),"#FFFFFF"),18),f=e.b(),c=ke(a,c,d),d=a.Fa+a.qa/2;c.x+=d-f.width;c.y+=d-f.height/2;e.f(c);return e}function Ud(a,b){var c=x,d=y,e=n;switch(b){case a.nc:e=me(a,c,d);break;case a.he:c=le(a,c,d);c.M(a.dd);e=c;break;default:c=le(a,c,d),c.M(a.fe),e=c}return e};function Zd(a){Hd.call(this);this.A=a}A(Zd,Hd);Zd.prototype.scope="fade";Zd.prototype.ub=function(a){var b=a.A;Jd(this)&&(a.pa[bd]=[this.A,this.aa,this.nb,0],L(a,cd));return{$e:b,s:this.A-b}};Zd.prototype.update=function(a,b){if(0!=this.ua){var c=Kd(this,b);wd(b,c.$e+c.s*a)}};Zd.prototype.da=function(a){Jd(this)&&(a.da(bd),L(a,cd))};function pe(a,b){this.aa=1;this.ac=a;this.qb=b}A(pe,Ib);pe.prototype.oa=function(a){this.aa=a;return this};pe.prototype.start=function(){this.qb.f(new M(0,0));ud(this.qb,n);this.finish()};pe.prototype.finish=function(){this.dispatchEvent(new G("end"))};function qe(a,b){pe.call(this,a,b)}A(qe,pe);qe.prototype.start=function(){wd(this.qb,0);ud(this.qb,n);var a=Md((new Zd(0)).oa(this.aa));I(a,"stop",function(){this.ac&&wd(this.ac,1)},n,this);this.ac&&Bd(this.ac,a);a=(new Zd(1)).oa(this.aa);Bd(this.qb,a);I(a,"stop",this.finish,n,this)};function re(a,b){Hd.call(this);this.kb=2==arguments.length?new M(arguments[0],arguments[1]):a}A(re,Hd);r=re.prototype;r.scope="move";r.ub=function(a){Jd(this)&&(a.pa[S]=[new M(a.e.x+this.kb.x,a.e.y+this.kb.y),this.aa,this.nb,0],L(a,gd));return{Db:a.e}};r.ib=function(){this.Cb&&(this.oa(this.Cb*$b(this.kb)/100),this.Zc=1)};r.update=function(a,b){if(0!=this.ua){var c=Kd(this,b);b.f(c.Db.x+this.kb.x*a,c.Db.y+this.kb.y*a)}};r.da=function(a){Jd(this)&&(a.da(S),L(a,gd))};var se=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var te=s.window;function ue(a){if("function"==typeof a.Nb)return a.Nb();if(v(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return nb(a)}function ve(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(fa(a)||v(a))ya(a,b,c);else{var d;if("function"==typeof a.Ac)d=a.Ac();else if("function"!=typeof a.Nb)if(fa(a)||v(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=ob(a);else d=h;for(var e=ue(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function we(a,b){this.Va={};this.z=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof we?(c=a.Ac(),d=a.Nb()):(c=ob(a),d=nb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}r=we.prototype;r.r=0;r.Nb=function(){xe(this);for(var a=[],b=0;b<this.z.length;b++)a.push(this.Va[this.z[b]]);return a};r.Ac=function(){xe(this);return this.z.concat()};
r.clear=function(){this.Va={};this.r=this.z.length=0};function xe(a){if(a.r!=a.z.length){for(var b=0,c=0;b<a.z.length;){var d=a.z[b];Object.prototype.hasOwnProperty.call(a.Va,d)&&(a.z[c++]=d);b++}a.z.length=c}if(a.r!=a.z.length){for(var e={},c=b=0;b<a.z.length;)d=a.z[b],Object.prototype.hasOwnProperty.call(e,d)||(a.z[c++]=d,e[d]=1),b++;a.z.length=c}}r.set=function(a,b){Object.prototype.hasOwnProperty.call(this.Va,a)||(this.r++,this.z.push(a));this.Va[a]=b};r.d=function(){return new we(this)};function ye(a){a=""+a;if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function ze(){}ze.prototype.Kb=l;var Ae;function Be(){}A(Be,ze);function Ce(a){return(a=De(a))?new ActiveXObject(a):new XMLHttpRequest}function Ee(a){var b={};De(a)&&(b[0]=k,b[1]=k);return b}Be.prototype.Ec=l;
function De(a){if(!a.Ec&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Ec=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ec}Ae=new Be;function Fe(a){return Ge(a||arguments.callee.caller,[])}
function Ge(a,b){var c=[];if(0<=xa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(He(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var f;f=d[e];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=""+f;break;case "boolean":f=f?"true":"false";break;case "function":f=(f=He(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(Ge(a.caller,b))}catch(g){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function He(a){if(Ie[a])return Ie[a];a=""+a;if(!Ie[a]){var b=/function ([^\(]+)/.exec(a);Ie[a]=b?b[1]:"[Anonymous]"}return Ie[a]}var Ie={};function Je(a,b,c,d,e){this.reset(a,b,c,d,e)}Je.prototype.Bd=l;Je.prototype.Ad=l;var Ke=0;Je.prototype.reset=function(a,b,c,d,e){"number"==typeof e||Ke++;d||oa();this.sb=a;this.Me=b;delete this.Bd;delete this.Ad};Je.prototype.$d=function(a){this.sb=a};function Le(a){this.Ne=a}Le.prototype.g=l;Le.prototype.sb=l;Le.prototype.c=l;Le.prototype.Id=l;function Me(a,b){this.name=a;this.value=b}Me.prototype.toString=aa("name");var Ne=new Me("SEVERE",1E3),Oe=new Me("WARNING",900),Pe=new Me("CONFIG",700),Qe=new Me("FINE",500);Le.prototype.getParent=aa("g");Le.prototype.$d=function(a){this.sb=a};function Re(a){return a.sb?a.sb:a.g?Re(a.g):l}
Le.prototype.log=function(a,b,c){if(a.value>=Re(this).value){a=this.Ae(a,b,c);b="log:"+a.Me;s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b));s.msWriteProfilerMark&&s.msWriteProfilerMark(b);for(b=this;b;){var c=b,d=a;if(c.Id)for(var e=0,f=h;f=c.Id[e];e++)f(d);b=b.getParent()}}};
Le.prototype.Ae=function(a,b,c){var d=new Je(a,""+b,this.Ne);if(c){d.Bd=c;var e;var f=arguments.callee.caller;try{var g;var j=ca("window.location.href");if(v(c))g={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var m,p,o=n;try{m=c.lineNumber||c.nf||"Not available"}catch(q){m="Not available",o=k}try{p=c.fileName||c.filename||c.sourceURL||j}catch(V){p="Not available",o=k}g=o||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,lineNumber:m,
fileName:p,stack:c.stack||"Not available"}:c}e="Message: "+ra(g.message)+'\nUrl: <a href="view-source:'+g.fileName+'" target="_new">'+g.fileName+"</a>\nLine: "+g.lineNumber+"\n\nBrowser stack:\n"+ra(g.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(Fe(f)+"-> ")}catch(J){e="Exception trying to expose exception! You win, we lose. "+J}d.Ad=e}return d};function Se(a,b){a.log(Qe,b,h)}var Te={},Ue=l;
function Ve(a){Ue||(Ue=new Le(""),Te[""]=Ue,Ue.$d(Pe));var b;if(!(b=Te[a])){b=new Le(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=Ve(a.substr(0,c));c.c||(c.c={});c.c[d]=b;b.g=c;Te[a]=b}return b};function We(a){this.headers=new we;this.bb=a||l}A(We,Ib);We.prototype.S=Ve("goog.net.XhrIo");var Xe=/^https?$/i,Ye=[];function be(a,b){var c=new We;Ye.push(c);b&&I(c,"complete",b);I(c,"ready",na(Ze,c));c.send(a,h,h,h)}function Ze(a){a.Ra();Ca(Ye,a)}r=We.prototype;r.w=n;r.h=l;r.lc=l;r.Jc="";r.Nd="";r.rb="";r.yc=n;r.Rb=n;r.Fc=n;r.Ga=n;r.gc=0;r.Ma=l;r.Yd="";r.ff=n;
r.send=function(a,b,c,d){if(this.h)throw Error("[goog.net.XhrIo] Object is active with another request");b=b?b.toUpperCase():"GET";this.Jc=a;this.rb="";this.Nd=b;this.yc=n;this.w=k;this.h=this.bb?Ce(this.bb):Ce(Ae);this.lc=this.bb?this.bb.Kb||(this.bb.Kb=Ee(this.bb)):Ae.Kb||(Ae.Kb=Ee(Ae));this.h.onreadystatechange=z(this.Ud,this);try{Se(this.S,$e(this,"Opening Xhr")),this.Fc=k,this.h.open(b,a,k),this.Fc=n}catch(e){Se(this.S,$e(this,"Error opening Xhr: "+e.message));af(this,e);return}var a=c||"",f=
this.headers.d();d&&ve(d,function(a,b){f.set(b,a)});"POST"==b&&!Object.prototype.hasOwnProperty.call(f.Va,"Content-Type")&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");ve(f,function(a,b){this.h.setRequestHeader(b,a)},this);this.Yd&&(this.h.responseType=this.Yd);"withCredentials"in this.h&&(this.h.withCredentials=this.ff);try{this.Ma&&(te.clearTimeout(this.Ma),this.Ma=l),0<this.gc&&(Se(this.S,$e(this,"Will abort after "+this.gc+"ms if incomplete")),this.Ma=te.setTimeout(z(this.bf,
this),this.gc)),Se(this.S,$e(this,"Sending request")),this.Rb=k,this.h.send(a),this.Rb=n}catch(g){Se(this.S,$e(this,"Send error: "+g.message)),af(this,g)}};r.bf=function(){"undefined"!=typeof ba&&this.h&&(this.rb="Timed out after "+this.gc+"ms, aborting",Se(this.S,$e(this,this.rb)),this.dispatchEvent("timeout"),this.abort(8))};function af(a,b){a.w=n;a.h&&(a.Ga=k,a.h.abort(),a.Ga=n);a.rb=b;bf(a);cf(a)}function bf(a){a.yc||(a.yc=k,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
r.abort=function(){this.h&&this.w&&(Se(this.S,$e(this,"Aborting")),this.w=n,this.Ga=k,this.h.abort(),this.Ga=n,this.dispatchEvent("complete"),this.dispatchEvent("abort"),cf(this))};r.Q=function(){this.h&&(this.w&&(this.w=n,this.Ga=k,this.h.abort(),this.Ga=n),cf(this,k));We.Ka.Q.call(this)};r.Ud=function(){!this.Fc&&!this.Rb&&!this.Ga?this.Oe():df(this)};r.Oe=function(){df(this)};
function df(a){if(a.w&&"undefined"!=typeof ba)if(a.lc[1]&&4==ef(a)&&2==ff(a))Se(a.S,$e(a,"Local request error detected and ignored"));else if(a.Rb&&4==ef(a))te.setTimeout(z(a.Ud,a),0);else if(a.dispatchEvent("readystatechange"),4==ef(a)){Se(a.S,$e(a,"Request complete"));a.w=n;var b=ff(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 304:case 1223:c=k;break a;default:c=n}if(!c){if(b=0===b)b=(""+a.Jc).match(se)[1]||l,!b&&self.location&&(b=self.location.protocol,b=b.substr(0,b.length-1)),b=
!Xe.test(b?b.toLowerCase():"");c=b}if(c)a.dispatchEvent("complete"),a.dispatchEvent("success");else{var d;try{d=2<ef(a)?a.h.statusText:""}catch(e){Se(a.S,"Can not get status: "+e.message),d=""}a.rb=d+" ["+ff(a)+"]";bf(a)}cf(a)}}function cf(a,b){if(a.h){var c=a.h,d=a.lc[0]?da:l;a.h=l;a.lc=l;a.Ma&&(te.clearTimeout(a.Ma),a.Ma=l);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){a.S.log(Ne,"Problem encountered resetting onreadystatechange: "+e.message,h)}}}
function ef(a){return a.h?a.h.readyState:0}function ff(a){try{return 2<ef(a)?a.h.status:-1}catch(b){return a.S.log(Oe,"Can not get status: "+b.message,h),-1}}function fe(a){if(a.h)return ye(a.h.responseText)}function $e(a,b){return b+" ["+a.Nd+" "+a.Jc+" "+ff(a)+"]"};Q.eb={};T.eb={};function $(a){Cd.call(this);this.C(a);gf(this,hf);he(this,14);oe(this,"#000");jf(this);ge(this,"400");a=[0,0,0,0];t(h)&&(a[1]=a[3]=h);t(h)&&(a[2]=h);t(h)&&(a[3]=h);this.I=a;L(this,8);this.Ge=n;this.Od=1.15;this.Ye(l);this.M(255,255,255,0)}A($,Cd);$.prototype.id="label";var hf="Arial";$.prototype.va=[bc(T.v,T.eb),bc(Q.v,Q.eb)];
(function(){var a;$.prototype.measureText=function(){t(a)||(a=document.createElement("canvas").getContext("2d"));var b=kf(this)*this.Ea;a.font=this.Ea+"px "+this.zc;var c=a.measureText(this.La),c=E?c.width:c.width+1;kc&&(c+=1);var d=this.N?this.N.jc:0;return new K(this.I[1]+this.I[3]+c+2*d,this.I[0]+this.I[2]+b+2*d)}})();r=$.prototype;r.b=function(){var a=W.prototype.b.call(this);return!a||!a.width&&!a.height?this.measureText():a};r.C=function(a){this.La=a+"";L(this,Wb);delete this.cd;return this};
function ge(a,b){a.Fd=b;L(a,8);return a}function gf(a,b){a.zc=b;L(a,8);return a}function he(a,b){a.Ea=b;L(a,8);return a}function oe(a,b){a.Ed=b;L(a,8);return a}function kf(a){var b=Math.abs(a.U.y)+2*a.ba;return a.Ge?(a.Od+b)/a.Ea:a.Od+b/a.Ea}function jf(a){a.kd="center";L(a,8);return a}
r.Ye=function(a,b,c,d){1==arguments.length&&a===l?(this.Bb="#ccc",this.ba=0,this.ec(0,0)):2==arguments.length?(this.Bb=a,this.ba=b,this.ec(new U(0,0))):3==arguments.length?(this.Bb=a,this.ba=b,this.ec(c)):(this.Bb=a,this.ba=b,this.ec(c,d));L(this,8)};r.ec=function(a,b){this.U=2==arguments.length?new U(arguments[0],arguments[1]):a;L(this,8)};r.update=function(){this.o&Wb&&delete this.Md;W.prototype.update.apply(this,arguments)};
T.eb.D=function(a){T.v.D.call(this,a);var b=a.style;this.o&Wb&&Lc(a,this.La);this.o&8&&(b.lineHeight=kf(this),b.padding=Aa(this.I,function(a){return a*Yb(this)},this).join("px ")+"px",b.color=this.Ed,b.fontFamily=this.zc,b.fontSize=this.Ea*Yb(this)+"px",b.fontWeight=this.Fd,b.textAlign=this.kd,b.textShadow=this.ba||this.U.x||this.U.y?this.Bb+" "+this.U.x+"px "+this.U.y+"px "+this.ba+"px":"")};
Q.eb.D=function(a){Q.v.D.call(this,a);var b=N(this),c=-b.left-this.I[3]+b.right-this.I[1]+Math.abs(this.U.x)+Math.abs(2*this.ba),d=0;if(!this.cd){var d=[],e=this.La.length,f=this.La.match(D?/[\s\.]+/g:/[\s-\.]+/g),g=0;if(f)for(var j=0;j<f.length;j++){var m=f[j],m=this.La.indexOf(m,g)+m.length;d.push(this.La.substring(g,m));g=m}g!=e&&d.push(this.La.substring(g,e));this.cd=d;d=1}f=this.N?this.N.jc:0;a.save();e=this.kd;"left"==e?a.translate(b.left+this.I[3]+f,b.top+this.I[0]+f):"right"==e?a.translate(b.right-
this.I[1]-f,b.top+this.I[0]+f):"center"==e&&a.translate(0.5*(b.left+this.I[3]+b.right-this.I[1]),b.top+this.I[0]+f);b=kf(this);a.fillStyle=this.Ed;a.font=this.Fd+" "+this.Ea+"px/"+b+" "+this.zc;a.textAlign=e;a.textBaseline="top";if(this.ba||this.U.x||this.U.y)a.shadowColor=this.Bb,a.shadowOffsetX=this.U.x,a.shadowOffsetY=this.U.y,a.shadowBlur=this.ba;if(d||c!=this.Md){d=[];e="";f=this.cd;for(j=0;j<f.length;j++)""==e?e=f[j]:(g=a.measureText(qa(e+f[j])),g.width>c?(d.push(qa(e)),e=f[j]):e+=f[j]);d.push(e);
this.Lc=d;this.Md=c}if(this.Lc){c=b*this.Ea;b=(t(this.ba)?Math.abs(this.ba):0)+(t(this.U)?Math.abs(this.U.y)/2:0);c=E?Math.floor(c):Math.round(c);for(d=0;d<this.Lc.length;d++)a.fillText(this.Lc[d],0,c*d+b-0.5)}a.restore()};function lf(){R.call(this);this.a.style.cssText="background:rgba(255,255,255,.8)"}A(lf,R);function mf(a,b){Hd.call(this);this.e=2==arguments.length?new M(arguments[0],arguments[1]):a}A(mf,Hd);r=mf.prototype;r.scope="move";r.ub=function(a){var b=a.e,c=new M(this.e.x-b.x,this.e.y-b.y);Jd(this)&&(a.pa[S]=[this.e,this.aa,this.nb,0],L(a,gd));return{Db:b,s:c}};r.ib=function(){if(this.Cb&&this.ab.length){var a=this.ab[0].e;this.oa(this.Cb*$b(new M(this.e.x-a.x,this.e.y-a.y))/100);this.Zc=1}};r.update=function(a,b){if(0!=this.ua){var c=Kd(this,b);b.f(c.Db.x+c.s.x*a,c.Db.y+c.s.y*a)}};
r.da=function(a){Jd(this)&&(a.da(S),L(a,gd))};function $d(a,b,c,d){this.target=d||a.xa;this.ja=[];this.R=-1;this.y=this.x=0;b||(b=this.target.Wb(new M(0,0)),this.x=a.fa.x-b.x,this.y=a.fa.y-b.y);a.ga(["touchmove","mousemove"],z(this.Le,this));a.ga(["touchend","touchcancel","mouseup"],z(this.Ue,this));this.pe=c||l;this.dispatchEvent(new G(nf))}A($d,Ib);var nf="start";$d.prototype.Q=function(){$d.Ka.Q.call(this);this.ja=this.target=this.ka=l};$d.prototype.Hd=aa("pe");
$d.prototype.Le=function(a){a=a.fa.d();a.x-=this.x;a.y-=this.y;var a=this.target.getParent().na(a),b=this.Hd();b!=l&&(a.x<b.left?a.x=b.left:a.x>b.right&&(a.x=b.right),a.y<b.top?a.y=b.top:a.y>b.bottom&&(a.y=b.bottom));this.target.f(a);this.dispatchEvent(new G("move"));for(var a=-1,b=qc(N(this.target)),c=[],d=0;d<this.ja.length;d++){var e=this.ja[d];if(!w(e.se)||e.se(this.target)){var f=N(e),g=ed(e,new M(f.left,f.top),this.target),e=ed(e,new M(f.right,f.bottom),this.target),g=qc(new O(Math.min(g.y,
e.y),Math.max(g.x,e.x),Math.max(g.y,e.y),Math.min(e.x,g.x)));(e=rc(b,g))&&c.push([e.width*e.height/(g.width*g.height),d])}}c.length&&(c=c.sort(function(a,b){return b[0]-a[0]}),a=c[0][1]);a!=this.R&&(-1!=this.R&&w(this.ja[this.R].Jd)&&this.ja[this.R].Jd(),this.R=a,-1!=this.R&&w(this.ja[this.R].ae)&&this.ja[this.R].ae(),a=new G("change"),a.gb=-1!=this.R?this.ja[this.R]:l,this.dispatchEvent(a))};
$d.prototype.Ue=function(){if(-1!=this.R){var a=new G("drop");a.gb=this.ja[this.R];w(a.gb.ae)&&a.gb.Jd();this.dispatchEvent(a);if(!a.ma){var b=ed(a.gb.getParent(),a.gb.e,this.target.getParent()),b=Md((new mf(b)).oa(0.5));Bd(this.target,b);w(a.Ke)&&I(b,"stop",a.Ke,n,this.target)}}else this.dispatchEvent(new G("cancel"));this.dispatchEvent(new G("end"));X.qe(this.Ra,this)};function of(a){this.lb=a;this.identifier=0}of.prototype.ga=function(a,b,c){for(var a=u(a)?a:[a],d=0;d<a.length;d++)this.lb.ga(this,a[d],b);c&&this.event.stopPropagation()};of.prototype.xb=function(a){var b=t(a),c=u(a)?a:[a];if(a=this.lb.wa[this.identifier]){var d=this,a=za(a,function(a){return!t(d.xa)||a[0]==d.xa&&(!b||0<=xa(c,a[1]))?(Cb(a[0],a[1],a[2]),n):k});a.length?this.lb.wa[this.identifier]=a:delete this.lb.wa[this.identifier]}};of.prototype.d=function(){var a=new of(this.lb);qb(a,this);return a};function pf(a){this.Ba=a;this.L={};this.wa={}}pf.prototype.dc=function(a,b){t(this.L[b])?0<=xa(this.L[b],a)||(this.L[b].push(a),this.L[b].sort(rd)):(this.L[b]=[a],I("touch"==b.substring(0,5)&&a!=this.Ba?document:"key"==b.substring(0,3)?window:this.Ba.a.parentNode,b,this,n,this))};pf.prototype.xb=function(a,b){t(this.L[b])&&(Ca(this.L[b],a),this.L[b].length||(Cb(this.Ba.a.parentNode,b,this,n,this),delete this.L[b]))};function zd(a,b){for(var c in a.L){var d=a.L[c];0<=xa(d,b)&&d.sort(rd)}}
pf.prototype.ga=function(a,b,c){var d=a.identifier;t(this.wa[d])||(this.wa[d]=[]);this.wa[d].push([a.xa,b,c]);I(a.xa,b,da)};
pf.prototype.handleEvent=function(a){if(t(this.L[a.type])){for(var b=this.L[a.type].slice(),c=n,d=0,e=0;!e;){var f=new of(this);f.type=a.type;f.event=a;if("touch"==a.type.substring(0,5)){var g=a.ka.changedTouches[d];f.fa=new M(g.pageX,g.pageY);f.identifier=g.identifier;d++;d>=a.ka.changedTouches.length&&(e=1)}else f.fa=new M(a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.clientY+document.body.scrollTop+document.documentElement.scrollTop),e=1;if(t(this.wa[f.identifier])){for(var g=
this.wa[f.identifier],j=0;j<g.length;j++)if(g[j][1]==a.type||u(g[j][1])&&0<=xa(g[j][1],a.type)){var m=g[j][0];f.xa=m;f.position=m.na(f.fa);g[j][2].call(m,f);c=k}if("touchend"==a.type||"touchcancel"==a.type||"mouseup"==a.type||"keyup"==a.type)delete f.xa,f.xb()}else for(j=0;j<b.length;j++)if(m=b[j],!((this.Ba.l.length?this.Ba.l[this.Ba.l.length-1]:l)!=m.Mb()&&m!=this.Ba)&&!m.Qb&&m.t)if(f.xa=m,m.la(f)||"key"==a.type.substring(0,3))if(f.xa=m,m.dispatchEvent(f),c=k,f.event.ma)break}c&&a.preventDefault()}};function qf(a){this.Oa=a||window;this.Vb=I(this.Oa,"resize",this.Be,n,this);this.q=Cc(this.Oa||window);if(E&&$a||Xa&&this.Oa.self!=this.Oa.top)this.kc=window.setInterval(z(this.rd,this),rf)}A(qf,Ib);var rf=500;r=qf.prototype;r.Vb=l;r.Oa=l;r.q=l;r.kc=l;r.b=function(){return this.q?this.q.d():l};r.Q=function(){qf.Ka.Q.call(this);this.Vb&&(Db(this.Vb),this.Vb=l);this.kc&&(window.clearInterval(this.kc),this.kc=l);this.q=this.Oa=l};r.Be=function(){this.rd()};
r.rd=function(){var a=Cc(this.Oa||window);if(!(a==this.q||(!a||!this.q?0:a.width==this.q.width&&a.height==this.q.height)))this.q=a,this.dispatchEvent("resize")};function sf(a,b,c){W.call(this);this.t=k;this.Xc(0,0);this.l=[];this.ud=[];this.mb="lime-director";od(this);a.appendChild(this.a);E&&Ya&&(this.td=document.createElement("div"),tc(this.td,"lime-cover-below"),Hc(this.td,this.a),this.sd=document.createElement("div"),tc(this.sd,"lime-cover-above"),Ic(this.sd,this.a));"absolute"!=a.style.position&&(a.style.position="relative");a.style.overflow="hidden";if(a==document.body){Tc("html,body{margin:0;padding:0;height:100%;}");var d=document.createElement("meta");
d.name="viewport";var e="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=no";/android/i.test(navigator.userAgent)&&(e+=",target-densityDpi=device-dpi");d.content=e;document.getElementsByTagName("head").item(0).appendChild(d);if(Ya&&!s.navigator.tf){var f=this;setTimeout(function(){window.scrollTo(0,0);f.Ub()},100)}}var g,a=Rc(a);this.m(new K(g=b||a.width||400,c||a.height*g/a.width||400));this.xd&&Jc(this.ye);this.Fe=this.xd=n;X.re(this);this.Fe?(this.Sc=new (this.qf||
lf),tf(this,this.Sc)):this.Sc&&(this.l.length&&(yd(this.l[this.l.length-1]),this.l[this.l.length-1].g=l,Jc(this.l[this.l.length-1].a),this.l.pop()),delete this.Sc);b=new qf;I(b,"resize",this.Ub,n,this);I(s,"orientationchange",this.Ub,n,this);X.Wc(this.$a,this);this.Sa=new pf(this);I(this,["touchmove","touchstart"],function(a){a.event.preventDefault()},n,this);I(this,["mouseup","touchend","mouseout","touchcancel"],function(){},n);this.Ub()}A(sf,W);r=sf.prototype;r.K=function(){return this};r.Mb=function(){return l};
r.$a=function(a){this.xd&&(this.Gd++,this.Ib+=a,100<this.Ib&&(this.xe=1E3*this.Gd/this.Ib,Lc(this.ye,this.xe.toFixed(2)),this.Ib=this.Gd=0));Mb()};function uf(a){var b=Od;a.m(b.b().d());var c=qe||pe,d=l;b.l.length&&(d=b.l[b.l.length-1]);for(var e=[],f=b.l.length;0<=--f;)yd(b.l[f]),e.push(b.l[f].a),b.l[f].g=l;b.l.length=0;b.l.push(a);a.a.style.display="none";b.a.appendChild(a.a);a.g=b;xd(a);a=new c(d,a);I(a,"end",function(){for(var a=e.length;0<=--a;)Jc(e[a])},n,b);t(h)&&a.oa(h);a.start()}
r.Na=function(){this.o&=-65};function tf(a,b){b.m(a.b().d());a.l.push(b);a.a.appendChild(b.a);b.g=a;xd(b)}r.Hd=function(a){var b=this.e,c=this.u;return new O(a.top-b.y/c.y,a.right-b.x/c.x,a.bottom-b.y/c.y,a.left-b.x/c.x)};r.na=function(a){a=a.d();a.x-=this.Lb.x+this.e.x;a.y-=this.Lb.y+this.e.y;a.x/=this.u.x;a.y/=this.u.y;return a};r.Wb=function(a){a=a.d();a.x*=this.u.x;a.y*=this.u.y;a.x+=this.Lb.x+this.e.x;a.y+=this.Lb.y+this.e.y;return a};
r.update=function(){W.prototype.update.call(this);for(var a=this.ud.length;0<=--a;)this.ud[a].update()};
r.Ub=function(){var a=Rc(this.a.parentNode);this.a.parentNode==document.body&&(window.scrollTo(0,0),ga(window.innerHeight)&&(a.height=window.innerHeight));var b;b=this.b().d();b=b.scale(b.width/b.height>a.width/a.height?a.width/b.width:a.height/b.height);this.Yc(b.width/this.b().width);a.width/a.height<b.width/b.height?this.f(0,(a.height-b.height)/2):this.f((a.width-b.width)/2,0);var c=this.a.parentNode,d,e=xc(c),f=Mc(c,"position"),g=D&&e.getBoxObjectFor&&!c.getBoundingClientRect&&"absolute"==f&&
(d=e.getBoxObjectFor(c))&&(0>d.screenX||0>d.screenY);b=new M(0,0);var j;d=e?9==e.nodeType?e:xc(e):document;if(j=C)if(j=!jb(9))j=vc(d),j=!zc(j.sa);j=j?d.body:d.documentElement;if(c!=j)if(c.getBoundingClientRect)d=Nc(c),e=vc(e).sa,c=!E&&zc(e)?e.documentElement:e.body,e=e.parentWindow||e.defaultView,c=new M(e.pageXOffset||c.scrollLeft,e.pageYOffset||c.scrollTop),b.x=d.left+c.x,b.y=d.top+c.y;else if(e.getBoxObjectFor&&!g)d=e.getBoxObjectFor(c),c=e.getBoxObjectFor(j),b.x=d.screenX-c.screenX,b.y=d.screenY-
c.screenY;else{d=c;do{b.x+=d.offsetLeft;b.y+=d.offsetTop;d!=c&&(b.x+=d.clientLeft||0,b.y+=d.clientTop||0);if(E&&"fixed"==Mc(d,"position")){b.x+=e.body.scrollLeft;b.y+=e.body.scrollTop;break}d=d.offsetParent}while(d&&d!=c);if(Xa||E&&"absolute"==f)b.y-=e.body.offsetTop;for(d=c;(d=Oc(d))&&d!=e.body&&d!=j;)if(b.x-=d.scrollLeft,!Xa||"TR"!=d.tagName)b.y-=d.scrollTop}this.Lb=b;Ya&&this.a.parentNode==document.body&&(this.Vd&&(b=this.Vd,Jc(b.ownerNode||b.owningElement||b)),this.Vd=Tc("html{height:"+(a.height+
120)+"px;overflow:hidden;}"))};r.la=function(a){a&&a.fa&&(a.position=this.na(a.fa));return k};function Sd(){W.call(this);this.mb="lime-layer"}A(Sd,W);Sd.prototype.la=function(a){for(var b=0,c;c=this.c[b];b++)if(c.la(a))return a.position=this.na(a.fa),k;return n};function vf(a,b){Sd.call(this);this.mb="lime-button";t(a)&&(this.Y=a,this.appendChild(this.Y),this.Eb=-1,wf(this,xf));t(b)&&yf(this,b);var c=this;I(this,["mousedown","touchstart","touchmove"],function(a){wf(c,zf);a.ga("mousemove",function(a){c.la(a)?wf(c,zf):wf(c,xf)});a.ga("touchmove",function(a){c.la(a)||(wf(c,xf),a.xb())});a.ga(["mouseup","touchend"],function(a){c.la(a)&&c.dispatchEvent({type:Af});wf(this,xf)})})}A(vf,Sd);var xf=0,zf=1,Af="click";
function yf(a,b){a.Ca=b;a.appendChild(b);a.Eb=-1;wf(a,xf)}function wf(a,b){if(b!=a.Eb){a.Eb==xf&&b==zf&&a.dispatchEvent({type:"down"});a.Eb==zf&&b==xf&&a.dispatchEvent({type:"up"});var c=a.Y;t(a.Ca)&&(zf==b?c=a.Ca:ud(a.Ca,k));c!=a.Y&&ud(a.Y,k);ud(c,n);a.Eb=b}};Q.fb={};T.fb={};function Wd(){Cd.call(this);Vd(this,5)}A(Wd,Cd);Wd.prototype.id="roundedrect";Wd.prototype.va=[bc(T.v,T.fb),bc(Q.v,Q.fb)];function Vd(a,b){a.Uc=b;return a}T.fb.D=function(a){this.b();T.v.D.call(this,a);ad(a,[this.Uc*this.Xa,this.Uc*this.Xa])};
Q.fb.D=function(a){this.b();var b=N(this),c=this.Uc,d=b.left,e=b.top,f=b.right-b.left,b=b.bottom-b.top;a.save();a.beginPath();a.moveTo(d+c,e);a.lineTo(d+f-c,e);a.quadraticCurveTo(d+f,e,d+f,e+c);a.lineTo(d+f,e+b-c);a.quadraticCurveTo(d+f,e+b,d+f-c,e+b);a.lineTo(d+c,e+b);a.quadraticCurveTo(d,e+b,d,e+b-c);a.lineTo(d,e+c);a.quadraticCurveTo(d,e,d+c,e);a.closePath();a.clip();Q.v.D.call(this,a);this.N&&(a.lineWidth*=2,a.stroke());a.restore()};function Bf(){this.jb=[];Cf(this)}A(Bf,Nb);r=Bf.prototype;r.id="lineargradient";r.Gc=function(a){(Xa||C)&&md(a,Q)};function Cf(a){a.j=[0,0,0,1];return a}r.addColorStop=function(a,b){var c=Fa(arguments);c.shift();this.jb.push([a,Ob(c)]);return this};r.we=function(a){return E?"color-stop("+a[0]+", "+a[1].V+")":a[1].V+" "+100*a[0]*this.Te+"%"};
r.Ab=function(a,b){var c,d=N(b);c=d.right-d.left;var e=d.bottom-d.top;if(!E){var f=(this.j[2]-this.j[0])*c,g=(this.j[1]-this.j[3])*e,j=d.left+c*this.j[0],m=d.top+e*this.j[1],p=Math.atan2(g,f),o=-g/f;Infinity==o&&(o=Math.pow(10,10));d=0<p&&p<Math.PI/2?[d.right,d.top]:0<p?[d.left,d.top]:p>-Math.PI/2?[d.right,d.bottom]:[d.left,d.bottom];d=(d[1]+1/o*d[0]-m+o*j)/(o+1/o);o=o*d+m-j*o;d-=j;o-=m;this.Te=Math.sqrt((f*f+g*g)/(d*d+o*o))}f=Aa(this.jb,this.we,this);c=E?"-webkit-gradient(linear,"+100*this.j[0]+
"% "+100*this.j[1]+"%,"+100*this.j[2]+"% "+100*this.j[3]+"%,"+f.join(",")+")":"linear-gradient("+100*this.j[0]+"% "+100*this.j[1]+"% "+Math.atan2((this.j[1]-this.j[3])*e,(this.j[2]-this.j[0])*c)+"rad,"+f.join(",")+")";D&&(c="-moz-"+c);a.style.background=c};r.zb=function(a,b){for(var c=this.j,d=N(b),e=d.right-d.left,f=d.bottom-d.top,c=a.createLinearGradient(d.left+e*c[0],d.top+f*c[1],d.left+e*c[2],d.top+f*c[3]),d=0;d<this.jb.length;d++)c.addColorStop(this.jb[d][0],this.jb[d][1].V);a.fillStyle=c};function ae(a){vf.call(this,Df(a),Df(a));this.borderWidth=2;this.C(a);this.Ja("#62be00")}A(ae,vf);function Df(a){var b=new Wd;b.Tb=new Wd;b.label=he(oe(gf(jf(new $(a)),'"Trebuchet MS"'),"#010101"),17);b.appendChild(b.Tb);b.Tb.appendChild(b.label);return b}
ae.prototype.Ja=function(a){a=Ob(a);ya([this.Y,this.Ca],function(b){var c;b==this.Ca?(c=a.d(),c=Sb(c,1,-0.2)):c=a;b.M(c);var d=Cf(new Bf);d.addColorStop(0,Rb(c.d(),0.13));d.addColorStop(0.5,Rb(c.d(),0.05));d.addColorStop(0.52,c);d.addColorStop(1,c);b.Tb.M(d)},this);return this};ae.prototype.C=function(a){this.Y.label.C(a);this.Ca.label.C(a);return this};
ae.prototype.m=function(a,b){if(this.Y){this.Y.m.apply(this.Y,arguments);var c=this.Y.b();ya([this.Y,this.Ca],function(a){a.m(c);var b=c.d();b.width-=this.borderWidth;b.height-=this.borderWidth;a.Tb.m(b)},this)}return this};ae.prototype.b=function(){return this.Y.b()};var ce="http://nonegames.appspot.com/HH",Rd=1,Qd=Rd,de=n,ee=n;
function Ef(){var a=new R,b=(new Sd).f(Y/2,0),c=(new Sd).f(0,0);b.appendChild(c);var d=Md(new re(-Y,0)),e=Md(new re(Y,0)),f=Ff("Play Quick Match");f.f(0,Z-3*(f.b().height+10));I(f,"click",function(){Gf()});c.appendChild(f);f=Ff("Play with a friend");f.f(0,Z-2*(f.b().height+10));I(f,"click",function(){Bd(c,d)});c.appendChild(f);f=Ff("Help");f.f(0,Z-1*(f.b().height+10));c.appendChild(f);var g=(new Sd).f(Y,0);c.appendChild(g);var j=he(oe((new $).C("Play with a friend"),"#000"),24);j.f(0,Z-4*(f.b().height+
10));g.appendChild(j);f=Ff("Host");f.f(0,Z-3*(f.b().height+10));I(f,"click",function(){de=prompt("Enter game to host.");Hf()});g.appendChild(f);f=Ff("Join");f.f(0,Z-2*(f.b().height+10));I(f,"click",function(){de=prompt("Enter game to join.");If()});g.appendChild(f);f=Ff("Back");f.f(0,Z-1*(f.b().height+10));I(f,"click",function(){Bd(c,e)});g.appendChild(f);a.appendChild(b);uf(a)}
function Hf(){be(ce+"/SetupHex/"+de,function(a){a=fe(a.target);a.Setup?(ee=a.PlayerId,Gf()):alert("something failed")})}function If(){be(ce+"/SetupHex/"+de,function(a){a=fe(a.target);a.Setup?(ee=a.PlayerId,Gf()):alert("something failed")})}function Gf(){var a=new Pd;uf(a)}function Ff(a){return(new ae(a)).m(300,90).Ja("#88A65E")}function Jf(a){Qd="undefined"!==typeof width?a:Qd;switch(Qd){case Rd:Y=320;Z=480;break;default:Y=640,Z=960}Od=new sf(document.body,Y,Z);Ef()}
var Kf=["honeyhunters","start"],Lf=s;!(Kf[0]in Lf)&&Lf.execScript&&Lf.execScript("var "+Kf[0]);for(var Mf;Kf.length&&(Mf=Kf.shift());)!Kf.length&&t(Jf)?Lf[Mf]=Jf:Lf=Lf[Mf]?Lf[Mf]:Lf[Mf]={};
